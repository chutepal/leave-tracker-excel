{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { Subscription } from 'rxjs';\nimport * as d3 from 'd3';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/leave.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nconst _c0 = [\"monthlyTrendChart\"];\nconst _c1 = [\"monthlyTypeChart\"];\nconst _c2 = [\"overallTypeChart\"];\nconst _c3 = [\"overallStatusChart\"];\nconst _c4 = [\"employeeComparisonChart\"];\nconst _c5 = [\"employeeDetailChart\"];\nfunction LeaveAnalyticsComponent_button_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function LeaveAnalyticsComponent_button_5_Template_button_click_0_listener() {\n      const analysis_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.switchAnalysis(analysis_r2.type));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const analysis_r2 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"active\", ctx_r2.activeAnalysis === analysis_r2.type);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\" \", analysis_r2.icon, \" \", analysis_r2.name, \" \");\n  }\n}\nfunction LeaveAnalyticsComponent_div_6_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20)(1, \"div\", 21);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 22)(4, \"div\", 23);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 24);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const stat_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(stat_r4.icon);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(stat_r4.value);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(stat_r4.label);\n  }\n}\nfunction LeaveAnalyticsComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12)(1, \"div\", 13)(2, \"h3\");\n    i0.ɵɵtext(3, \"\\uD83D\\uDCC5 Monthly Leave Analysis\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 14);\n    i0.ɵɵtext(5, \"Track leave patterns and trends over time\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 15)(7, \"div\", 16)(8, \"h4\");\n    i0.ɵɵtext(9, \"Monthly Leave Trends\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(10, \"div\", 17, 0);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 16)(13, \"h4\");\n    i0.ɵɵtext(14, \"Leave Types by Month\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(15, \"div\", 17, 1);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\", 18);\n    i0.ɵɵtemplate(18, LeaveAnalyticsComponent_div_6_div_18_Template, 8, 3, \"div\", 19);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(18);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.monthlyStats);\n  }\n}\nfunction LeaveAnalyticsComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12)(1, \"div\", 13)(2, \"h3\");\n    i0.ɵɵtext(3, \"\\uD83D\\uDCC8 Overall Leave Analysis\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 14);\n    i0.ɵɵtext(5, \"Complete overview of leave patterns and distribution\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 15)(7, \"div\", 16)(8, \"h4\");\n    i0.ɵɵtext(9, \"Leave Types Distribution\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(10, \"div\", 17, 2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 16)(13, \"h4\");\n    i0.ɵɵtext(14, \"Status Distribution\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(15, \"div\", 17, 3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\", 25)(18, \"div\", 26)(19, \"div\", 27)(20, \"div\", 28);\n    i0.ɵɵtext(21, \"\\uD83D\\uDCCB\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"div\", 29)(23, \"div\", 30);\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"div\", 31);\n    i0.ɵɵtext(26, \"Total Leaves\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(27, \"div\", 27)(28, \"div\", 28);\n    i0.ɵɵtext(29, \"\\uD83D\\uDC65\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"div\", 29)(31, \"div\", 30);\n    i0.ɵɵtext(32);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"div\", 31);\n    i0.ɵɵtext(34, \"Employees\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(35, \"div\", 27)(36, \"div\", 28);\n    i0.ɵɵtext(37, \"\\uD83D\\uDCCA\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(38, \"div\", 29)(39, \"div\", 30);\n    i0.ɵɵtext(40);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(41, \"div\", 31);\n    i0.ɵɵtext(42, \"Avg per Employee\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(43, \"div\", 27)(44, \"div\", 28);\n    i0.ɵɵtext(45, \"\\uD83C\\uDFC6\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(46, \"div\", 29)(47, \"div\", 30);\n    i0.ɵɵtext(48);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(49, \"div\", 31);\n    i0.ɵɵtext(50, \"Most Used Type\");\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(24);\n    i0.ɵɵtextInterpolate(ctx_r2.overallData.totalStats.totalLeaves);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(ctx_r2.overallData.totalStats.uniqueEmployees);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(ctx_r2.overallData.totalStats.avgLeavesPerEmployee);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(ctx_r2.overallData.totalStats.mostUsedLeaveType);\n  }\n}\nfunction LeaveAnalyticsComponent_div_8_option_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 38);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const emp_r6 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", emp_r6);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(emp_r6);\n  }\n}\nfunction LeaveAnalyticsComponent_div_8_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16)(1, \"h4\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"div\", 17, 5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r2.selectedEmployee, \" - Leave Types\");\n  }\n}\nfunction LeaveAnalyticsComponent_div_8_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 39)(1, \"div\", 40)(2, \"h4\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 41)(5, \"div\", 42)(6, \"span\", 43);\n    i0.ɵɵtext(7, \"Total Leaves:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"span\", 44);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 42)(11, \"span\", 43);\n    i0.ɵɵtext(12, \"Active:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"span\", 45);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 42)(16, \"span\", 43);\n    i0.ɵɵtext(17, \"Cancelled:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"span\", 46);\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"div\", 42)(21, \"span\", 43);\n    i0.ɵɵtext(22, \"Most Used Type:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"span\", 44);\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r2.selectedEmployeeData.employeeName, \" - Statistics\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r2.selectedEmployeeData.totalLeaves);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r2.selectedEmployeeData.activeLeaves);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r2.selectedEmployeeData.cancelledLeaves);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r2.getMostUsedLeaveType(ctx_r2.selectedEmployeeData));\n  }\n}\nfunction LeaveAnalyticsComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 12)(1, \"div\", 13)(2, \"h3\");\n    i0.ɵɵtext(3, \"\\uD83D\\uDC64 Employee Leave Analysis\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 14);\n    i0.ɵɵtext(5, \"Individual employee leave patterns and comparisons\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 32)(7, \"select\", 33);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function LeaveAnalyticsComponent_div_8_Template_select_ngModelChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r2 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r2.selectedEmployee, $event) || (ctx_r2.selectedEmployee = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵlistener(\"change\", function LeaveAnalyticsComponent_div_8_Template_select_change_7_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.updateEmployeeAnalysis());\n    });\n    i0.ɵɵelementStart(8, \"option\", 34);\n    i0.ɵɵtext(9, \"Select Employee for Detailed View\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, LeaveAnalyticsComponent_div_8_option_10_Template, 2, 2, \"option\", 35);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 15)(12, \"div\", 16)(13, \"h4\");\n    i0.ɵɵtext(14, \"Employee Leave Comparison\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(15, \"div\", 17, 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(17, LeaveAnalyticsComponent_div_8_div_17_Template, 5, 1, \"div\", 36);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(18, LeaveAnalyticsComponent_div_8_div_18_Template, 25, 5, \"div\", 37);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.selectedEmployee);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.employeeList);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.selectedEmployee);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.selectedEmployeeData);\n  }\n}\nexport let LeaveAnalyticsComponent = /*#__PURE__*/(() => {\n  class LeaveAnalyticsComponent {\n    get employeeList() {\n      return this.employeeData.map(emp => emp.employeeName).sort();\n    }\n    constructor(leaveService) {\n      this.leaveService = leaveService;\n      this.leaveRecords = [];\n      this.monthlyData = [];\n      this.overallData = {\n        leaveTypes: [],\n        statusDistribution: [],\n        totalStats: {\n          totalLeaves: 0,\n          activeLeaves: 0,\n          cancelledLeaves: 0,\n          uniqueEmployees: 0,\n          avgLeavesPerEmployee: 0,\n          mostUsedLeaveType: '-'\n        }\n      };\n      this.employeeData = [];\n      this.activeAnalysis = 'monthly';\n      this.analysisTypes = [{\n        type: 'monthly',\n        name: 'Monthly Analysis',\n        icon: '📅'\n      }, {\n        type: 'overall',\n        name: 'Overall Analysis',\n        icon: '📈'\n      }, {\n        type: 'employee',\n        name: 'Employee Analysis',\n        icon: '👤'\n      }];\n      this.selectedEmployee = '';\n      this.selectedEmployeeData = null;\n      this.subscription = new Subscription();\n      // Monthly stats for display\n      this.monthlyStats = [];\n    }\n    ngOnInit() {\n      this.subscription.add(this.leaveService.getLeaveRecords().subscribe(records => {\n        this.leaveRecords = records;\n        this.processAllData();\n        this.updateAnalysis();\n      }));\n    }\n    ngAfterViewInit() {\n      setTimeout(() => {\n        this.updateAnalysis();\n      }, 100);\n    }\n    ngOnDestroy() {\n      this.subscription.unsubscribe();\n      // Clean up any D3 tooltips\n      d3.selectAll('.tooltip').remove();\n    }\n    processAllData() {\n      this.processMonthlyData();\n      this.processOverallData();\n      this.processEmployeeData();\n      this.updateMonthlyStats();\n    }\n    processMonthlyData() {\n      const monthlyMap = new Map();\n      this.leaveRecords.forEach(record => {\n        const date = new Date(record.leaveDate);\n        const monthKey = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}`;\n        const monthDisplay = date.toLocaleDateString('en-US', {\n          year: 'numeric',\n          month: 'long'\n        });\n        const leaveType = record.leaveType || 'Annual Leave';\n        if (!monthlyMap.has(monthKey)) {\n          monthlyMap.set(monthKey, {\n            month: monthDisplay,\n            monthDate: new Date(date.getFullYear(), date.getMonth(), 1),\n            totalLeaves: 0,\n            leaveTypes: {},\n            employees: []\n          });\n        }\n        const monthData = monthlyMap.get(monthKey);\n        monthData.totalLeaves++;\n        monthData.leaveTypes[leaveType] = (monthData.leaveTypes[leaveType] || 0) + 1;\n        if (!monthData.employees.includes(record.employeeName)) {\n          monthData.employees.push(record.employeeName);\n        }\n      });\n      this.monthlyData = Array.from(monthlyMap.values()).sort((a, b) => a.monthDate.getTime() - b.monthDate.getTime());\n    }\n    processOverallData() {\n      // Process leave types\n      const leaveTypeMap = new Map();\n      const statusMap = new Map();\n      this.leaveRecords.forEach(record => {\n        const leaveType = record.leaveType || 'Annual Leave';\n        const status = record.status;\n        leaveTypeMap.set(leaveType, (leaveTypeMap.get(leaveType) || 0) + 1);\n        statusMap.set(status, (statusMap.get(status) || 0) + 1);\n      });\n      this.overallData.leaveTypes = Array.from(leaveTypeMap.entries()).map(([type, count]) => ({\n        type,\n        count,\n        percentage: count / this.leaveRecords.length * 100\n      })).sort((a, b) => b.count - a.count);\n      this.overallData.statusDistribution = Array.from(statusMap.entries()).map(([status, count]) => ({\n        status,\n        count,\n        percentage: count / this.leaveRecords.length * 100\n      }));\n      // Calculate overall stats\n      const uniqueEmployees = new Set(this.leaveRecords.map(r => r.employeeName)).size;\n      const activeLeaves = this.leaveRecords.filter(r => r.status === 'Active').length;\n      const cancelledLeaves = this.leaveRecords.filter(r => r.status === 'Cancelled').length;\n      const mostUsedType = this.overallData.leaveTypes.length > 0 ? this.overallData.leaveTypes[0].type : '-';\n      this.overallData.totalStats = {\n        totalLeaves: this.leaveRecords.length,\n        activeLeaves,\n        cancelledLeaves,\n        uniqueEmployees,\n        avgLeavesPerEmployee: uniqueEmployees > 0 ? parseFloat((this.leaveRecords.length / uniqueEmployees).toFixed(1)) : 0,\n        mostUsedLeaveType: mostUsedType\n      };\n    }\n    processEmployeeData() {\n      const employeeMap = new Map();\n      this.leaveRecords.forEach(record => {\n        const name = record.employeeName;\n        const leaveType = record.leaveType || 'Annual Leave';\n        const month = new Date(record.leaveDate).toLocaleDateString('en-US', {\n          year: 'numeric',\n          month: 'short'\n        });\n        if (!employeeMap.has(name)) {\n          employeeMap.set(name, {\n            employeeName: name,\n            totalLeaves: 0,\n            activeLeaves: 0,\n            cancelledLeaves: 0,\n            leaveTypes: {},\n            monthlyTrend: []\n          });\n        }\n        const empData = employeeMap.get(name);\n        empData.totalLeaves++;\n        if (record.status === 'Active') empData.activeLeaves++;else empData.cancelledLeaves++;\n        empData.leaveTypes[leaveType] = (empData.leaveTypes[leaveType] || 0) + 1;\n      });\n      this.employeeData = Array.from(employeeMap.values()).sort((a, b) => b.totalLeaves - a.totalLeaves);\n    }\n    updateMonthlyStats() {\n      if (this.monthlyData.length === 0) {\n        this.monthlyStats = [];\n        return;\n      }\n      const totalMonths = this.monthlyData.length;\n      const avgLeavesPerMonth = this.leaveRecords.length / totalMonths;\n      const peakMonth = this.monthlyData.reduce((prev, current) => prev.totalLeaves > current.totalLeaves ? prev : current);\n      const latestMonth = this.monthlyData[this.monthlyData.length - 1];\n      this.monthlyStats = [{\n        icon: '📅',\n        value: totalMonths.toString(),\n        label: 'Months Tracked'\n      }, {\n        icon: '📊',\n        value: avgLeavesPerMonth.toFixed(1),\n        label: 'Avg per Month'\n      }, {\n        icon: '🏆',\n        value: peakMonth.month,\n        label: 'Peak Month'\n      }, {\n        icon: '📈',\n        value: latestMonth.totalLeaves.toString(),\n        label: 'Latest Month'\n      }];\n    }\n    switchAnalysis(analysisType) {\n      this.activeAnalysis = analysisType;\n      setTimeout(() => {\n        this.updateAnalysis();\n      }, 100);\n    }\n    updateEmployeeAnalysis() {\n      if (this.selectedEmployee) {\n        this.selectedEmployeeData = this.employeeData.find(emp => emp.employeeName === this.selectedEmployee) || null;\n        setTimeout(() => {\n          this.createEmployeeDetailChart();\n        }, 100);\n      } else {\n        this.selectedEmployeeData = null;\n      }\n    }\n    getMostUsedLeaveType(employeeData) {\n      const types = Object.entries(employeeData.leaveTypes);\n      if (types.length === 0) return '-';\n      const mostUsed = types.reduce((prev, current) => prev[1] > current[1] ? prev : current);\n      return mostUsed[0];\n    }\n    updateAnalysis() {\n      if (this.leaveRecords.length === 0) return;\n      switch (this.activeAnalysis) {\n        case 'monthly':\n          this.createMonthlyTrendChart();\n          this.createMonthlyTypeChart();\n          break;\n        case 'overall':\n          this.createOverallTypeChart();\n          this.createOverallStatusChart();\n          break;\n        case 'employee':\n          this.createEmployeeComparisonChart();\n          if (this.selectedEmployee) {\n            this.createEmployeeDetailChart();\n          }\n          break;\n      }\n    }\n    createMonthlyTrendChart() {\n      if (!this.monthlyTrendChartRef?.nativeElement) return;\n      const element = this.monthlyTrendChartRef.nativeElement;\n      d3.select(element).selectAll('*').remove();\n      const margin = {\n        top: 20,\n        right: 30,\n        bottom: 50,\n        left: 50\n      };\n      const width = element.offsetWidth - margin.left - margin.right;\n      const height = 300 - margin.top - margin.bottom;\n      const svg = d3.select(element).append('svg').attr('width', width + margin.left + margin.right).attr('height', height + margin.top + margin.bottom);\n      const g = svg.append('g').attr('transform', `translate(${margin.left},${margin.top})`);\n      // Scales\n      const x = d3.scaleTime().domain(d3.extent(this.monthlyData, d => d.monthDate)).range([0, width]);\n      const y = d3.scaleLinear().domain([0, d3.max(this.monthlyData, d => d.totalLeaves) || 0]).nice().range([height, 0]);\n      // Line generator\n      const line = d3.line().x(d => x(d.monthDate)).y(d => y(d.totalLeaves)).curve(d3.curveMonotoneX);\n      // Create tooltip\n      const tooltip = d3.select('body').append('div').attr('class', 'tooltip').style('opacity', 0);\n      // Add grid\n      g.append('g').attr('class', 'grid').attr('transform', `translate(0,${height})`).call(d3.axisBottom(x).tickSize(-height).tickFormat(() => ''));\n      g.append('g').attr('class', 'grid').call(d3.axisLeft(y).tickSize(-width).tickFormat(() => ''));\n      // Add line\n      g.append('path').datum(this.monthlyData).attr('fill', 'none').attr('stroke', '#667eea').attr('stroke-width', 3).attr('d', line);\n      // Add dots\n      g.selectAll('.dot').data(this.monthlyData).enter().append('circle').attr('class', 'dot').attr('cx', d => x(d.monthDate)).attr('cy', d => y(d.totalLeaves)).attr('r', 6).attr('fill', '#667eea').style('stroke', 'var(--bg-secondary)').style('stroke-width', '3px').on('mouseover', (event, d) => {\n        tooltip.transition().duration(200).style('opacity', .9);\n        tooltip.html(`\n          <strong>${d.month}</strong><br/>\n          Total Leaves: ${d.totalLeaves}<br/>\n          Employees: ${d.employees.length}<br/>\n          Top Type: ${Object.entries(d.leaveTypes).sort((a, b) => b[1] - a[1])[0]?.[0] || 'None'}\n        `).style('left', event.pageX + 10 + 'px').style('top', event.pageY - 28 + 'px');\n      }).on('mouseout', () => {\n        tooltip.transition().duration(500).style('opacity', 0);\n      });\n      // Axes\n      g.append('g').attr('class', 'axis').attr('transform', `translate(0,${height})`).call(d3.axisBottom(x).tickFormat(d3.timeFormat('%b %Y')));\n      g.append('g').attr('class', 'axis').call(d3.axisLeft(y));\n    }\n    createMonthlyTypeChart() {\n      if (!this.monthlyTypeChartRef?.nativeElement || this.monthlyData.length === 0) return;\n      const element = this.monthlyTypeChartRef.nativeElement;\n      d3.select(element).selectAll('*').remove();\n      const margin = {\n        top: 20,\n        right: 100,\n        bottom: 50,\n        left: 50\n      };\n      const width = element.offsetWidth - margin.left - margin.right;\n      const height = 300 - margin.top - margin.bottom;\n      // Get all unique leave types\n      const allLeaveTypes = Array.from(new Set(this.monthlyData.flatMap(d => Object.keys(d.leaveTypes))));\n      // Transform data for stacked bar chart\n      const stackData = this.monthlyData.map(d => {\n        const item = {\n          month: d.month,\n          monthDate: d.monthDate\n        };\n        allLeaveTypes.forEach(type => {\n          item[type] = d.leaveTypes[type] || 0;\n        });\n        return item;\n      });\n      const svg = d3.select(element).append('svg').attr('width', width + margin.left + margin.right).attr('height', height + margin.top + margin.bottom);\n      const g = svg.append('g').attr('transform', `translate(${margin.left},${margin.top})`);\n      // Scales\n      const x = d3.scaleBand().domain(this.monthlyData.map(d => d.month)).range([0, width]).padding(0.1);\n      const y = d3.scaleLinear().domain([0, d3.max(this.monthlyData, d => d.totalLeaves) || 0]).nice().range([height, 0]);\n      const color = d3.scaleOrdinal(d3.schemeCategory10).domain(allLeaveTypes);\n      // Stack generator\n      const stack = d3.stack().keys(allLeaveTypes);\n      const stackedData = stack(stackData);\n      // Create tooltip\n      const tooltip = d3.select('body').append('div').attr('class', 'tooltip').style('opacity', 0);\n      // Add stacked bars\n      g.selectAll('.stack').data(stackedData).enter().append('g').attr('class', 'stack').attr('fill', d => color(d.key)).selectAll('rect').data(d => d).enter().append('rect').attr('x', d => x(d.data.month)).attr('y', d => y(d[1])).attr('height', d => y(d[0]) - y(d[1])).attr('width', x.bandwidth()).on('mouseover', (event, d) => {\n        const leaveType = d3.select(event.target.parentNode).datum();\n        const count = d[1] - d[0];\n        tooltip.transition().duration(200).style('opacity', .9);\n        tooltip.html(`\n          <strong>${d.data.month}</strong><br/>\n          ${leaveType.key}: ${count}<br/>\n          Total: ${d.data[Object.keys(d.data).find(k => k !== 'month' && k !== 'monthDate')] || 0}\n        `).style('left', event.pageX + 10 + 'px').style('top', event.pageY - 28 + 'px');\n      }).on('mouseout', () => {\n        tooltip.transition().duration(500).style('opacity', 0);\n      });\n      // Axes\n      g.append('g').attr('class', 'axis').attr('transform', `translate(0,${height})`).call(d3.axisBottom(x)).selectAll('text').style('text-anchor', 'end').attr('dx', '-.8em').attr('dy', '.15em').attr('transform', 'rotate(-45)');\n      g.append('g').attr('class', 'axis').call(d3.axisLeft(y));\n      // Legend\n      const legend = g.selectAll('.legend').data(allLeaveTypes).enter().append('g').attr('class', 'legend').attr('transform', (d, i) => `translate(${width + 10}, ${i * 20})`);\n      legend.append('rect').attr('width', 12).attr('height', 12).attr('fill', d => color(d));\n      legend.append('text').attr('x', 16).attr('y', 6).attr('dy', '0.35em').style('fill', 'var(--text-primary)').style('font-size', '11px').text(d => d);\n    }\n    createOverallTypeChart() {\n      if (!this.overallTypeChartRef?.nativeElement || this.overallData.leaveTypes.length === 0) return;\n      const element = this.overallTypeChartRef.nativeElement;\n      d3.select(element).selectAll('*').remove();\n      const width = element.offsetWidth;\n      const height = 300;\n      const radius = Math.min(width, height) / 2 - 40;\n      const svg = d3.select(element).append('svg').attr('width', width).attr('height', height);\n      const g = svg.append('g').attr('transform', `translate(${width / 2},${height / 2})`);\n      const color = d3.scaleOrdinal(d3.schemeSet3);\n      const pie = d3.pie().value(d => d.count).sort(null);\n      const arc = d3.arc().innerRadius(0).outerRadius(radius);\n      const labelArc = d3.arc().innerRadius(radius * 0.8).outerRadius(radius * 0.8);\n      const tooltip = d3.select('body').append('div').attr('class', 'tooltip').style('opacity', 0);\n      const arcs = g.selectAll('.arc').data(pie(this.overallData.leaveTypes)).enter().append('g').attr('class', 'arc');\n      arcs.append('path').attr('d', arc).attr('fill', (d, i) => color(i.toString())).style('stroke', 'var(--bg-secondary)').style('stroke-width', '2px').on('mouseover', (event, d) => {\n        tooltip.transition().duration(200).style('opacity', .9);\n        tooltip.html(`\n          <strong>${d.data.type}</strong><br/>\n          Count: ${d.data.count}<br/>\n          Percentage: ${d.data.percentage.toFixed(1)}%\n        `).style('left', event.pageX + 10 + 'px').style('top', event.pageY - 28 + 'px');\n      }).on('mouseout', () => {\n        tooltip.transition().duration(500).style('opacity', 0);\n      });\n      arcs.append('text').attr('transform', d => `translate(${labelArc.centroid(d)})`).attr('dy', '.35em').style('text-anchor', 'middle').style('fill', 'var(--text-primary)').style('font-size', '11px').style('font-weight', 'bold').text(d => d.data.percentage > 5 ? `${d.data.percentage.toFixed(0)}%` : '');\n    }\n    createOverallStatusChart() {\n      if (!this.overallStatusChartRef?.nativeElement || this.overallData.statusDistribution.length === 0) return;\n      const element = this.overallStatusChartRef.nativeElement;\n      d3.select(element).selectAll('*').remove();\n      const margin = {\n        top: 20,\n        right: 30,\n        bottom: 50,\n        left: 50\n      };\n      const width = element.offsetWidth - margin.left - margin.right;\n      const height = 300 - margin.top - margin.bottom;\n      const svg = d3.select(element).append('svg').attr('width', width + margin.left + margin.right).attr('height', height + margin.top + margin.bottom);\n      const g = svg.append('g').attr('transform', `translate(${margin.left},${margin.top})`);\n      const x = d3.scaleBand().domain(this.overallData.statusDistribution.map(d => d.status)).range([0, width]).padding(0.1);\n      const y = d3.scaleLinear().domain([0, d3.max(this.overallData.statusDistribution, d => d.count) || 0]).nice().range([height, 0]);\n      const color = d3.scaleOrdinal().domain(['Active', 'Cancelled']).range(['#38a169', '#e53e3e']);\n      const tooltip = d3.select('body').append('div').attr('class', 'tooltip').style('opacity', 0);\n      g.selectAll('.bar').data(this.overallData.statusDistribution).enter().append('rect').attr('class', 'bar').attr('x', d => x(d.status)).attr('width', x.bandwidth()).attr('y', d => y(d.count)).attr('height', d => height - y(d.count)).attr('fill', d => color(d.status)).on('mouseover', (event, d) => {\n        tooltip.transition().duration(200).style('opacity', .9);\n        tooltip.html(`\n          <strong>${d.status}</strong><br/>\n          Count: ${d.count}<br/>\n          Percentage: ${d.percentage.toFixed(1)}%\n        `).style('left', event.pageX + 10 + 'px').style('top', event.pageY - 28 + 'px');\n      }).on('mouseout', () => {\n        tooltip.transition().duration(500).style('opacity', 0);\n      });\n      // Axes\n      g.append('g').attr('class', 'axis').attr('transform', `translate(0,${height})`).call(d3.axisBottom(x));\n      g.append('g').attr('class', 'axis').call(d3.axisLeft(y));\n    }\n    createEmployeeComparisonChart() {\n      if (!this.employeeComparisonChartRef?.nativeElement || this.employeeData.length === 0) return;\n      const element = this.employeeComparisonChartRef.nativeElement;\n      d3.select(element).selectAll('*').remove();\n      const margin = {\n        top: 20,\n        right: 30,\n        bottom: 80,\n        left: 50\n      };\n      const width = element.offsetWidth - margin.left - margin.right;\n      const height = 300 - margin.top - margin.bottom;\n      const svg = d3.select(element).append('svg').attr('width', width + margin.left + margin.right).attr('height', height + margin.top + margin.bottom);\n      const g = svg.append('g').attr('transform', `translate(${margin.left},${margin.top})`);\n      const x = d3.scaleBand().domain(this.employeeData.map(d => d.employeeName)).range([0, width]).padding(0.1);\n      const y = d3.scaleLinear().domain([0, d3.max(this.employeeData, d => d.totalLeaves) || 0]).nice().range([height, 0]);\n      const color = d3.scaleOrdinal(d3.schemeCategory10);\n      const tooltip = d3.select('body').append('div').attr('class', 'tooltip').style('opacity', 0);\n      g.selectAll('.bar').data(this.employeeData).enter().append('rect').attr('class', 'bar').attr('x', d => x(d.employeeName)).attr('width', x.bandwidth()).attr('y', d => y(d.totalLeaves)).attr('height', d => height - y(d.totalLeaves)).attr('fill', (d, i) => color(i.toString())).on('mouseover', (event, d) => {\n        tooltip.transition().duration(200).style('opacity', .9);\n        tooltip.html(`\n          <strong>${d.employeeName}</strong><br/>\n          Total: ${d.totalLeaves}<br/>\n          Active: ${d.activeLeaves}<br/>\n          Cancelled: ${d.cancelledLeaves}<br/>\n          Types: ${Object.keys(d.leaveTypes).length}\n        `).style('left', event.pageX + 10 + 'px').style('top', event.pageY - 28 + 'px');\n      }).on('mouseout', () => {\n        tooltip.transition().duration(500).style('opacity', 0);\n      }).on('click', (event, d) => {\n        this.selectedEmployee = d.employeeName;\n        this.updateEmployeeAnalysis();\n      });\n      // Axes\n      g.append('g').attr('class', 'axis').attr('transform', `translate(0,${height})`).call(d3.axisBottom(x)).selectAll('text').style('text-anchor', 'end').attr('dx', '-.8em').attr('dy', '.15em').attr('transform', 'rotate(-45)');\n      g.append('g').attr('class', 'axis').call(d3.axisLeft(y));\n    }\n    createEmployeeDetailChart() {\n      if (!this.employeeDetailChartRef?.nativeElement || !this.selectedEmployeeData) return;\n      const element = this.employeeDetailChartRef.nativeElement;\n      d3.select(element).selectAll('*').remove();\n      const width = element.offsetWidth;\n      const height = 300;\n      const radius = Math.min(width, height) / 2 - 40;\n      const svg = d3.select(element).append('svg').attr('width', width).attr('height', height);\n      const g = svg.append('g').attr('transform', `translate(${width / 2},${height / 2})`);\n      const leaveTypeData = Object.entries(this.selectedEmployeeData.leaveTypes).map(([type, count]) => ({\n        type,\n        count\n      }));\n      const color = d3.scaleOrdinal(d3.schemeSet3);\n      const pie = d3.pie().value(d => d.count).sort(null);\n      const arc = d3.arc().innerRadius(0).outerRadius(radius);\n      const labelArc = d3.arc().innerRadius(radius * 0.8).outerRadius(radius * 0.8);\n      const tooltip = d3.select('body').append('div').attr('class', 'tooltip').style('opacity', 0);\n      const arcs = g.selectAll('.arc').data(pie(leaveTypeData)).enter().append('g').attr('class', 'arc');\n      arcs.append('path').attr('d', arc).attr('fill', (d, i) => color(i.toString())).style('stroke', 'var(--bg-secondary)').style('stroke-width', '2px').on('mouseover', (event, d) => {\n        const percentage = d.data.count / this.selectedEmployeeData.totalLeaves * 100;\n        tooltip.transition().duration(200).style('opacity', .9);\n        tooltip.html(`\n          <strong>${d.data.type}</strong><br/>\n          Count: ${d.data.count}<br/>\n          Percentage: ${percentage.toFixed(1)}%\n        `).style('left', event.pageX + 10 + 'px').style('top', event.pageY - 28 + 'px');\n      }).on('mouseout', () => {\n        tooltip.transition().duration(500).style('opacity', 0);\n      });\n      arcs.append('text').attr('transform', d => `translate(${labelArc.centroid(d)})`).attr('dy', '.35em').style('text-anchor', 'middle').style('fill', 'var(--text-primary)').style('font-size', '11px').style('font-weight', 'bold').text(d => {\n        const percentage = d.data.count / this.selectedEmployeeData.totalLeaves * 100;\n        return percentage > 10 ? `${percentage.toFixed(0)}%` : '';\n      });\n    }\n    static {\n      this.ɵfac = function LeaveAnalyticsComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || LeaveAnalyticsComponent)(i0.ɵɵdirectiveInject(i1.LeaveService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: LeaveAnalyticsComponent,\n        selectors: [[\"app-leave-analytics\"]],\n        viewQuery: function LeaveAnalyticsComponent_Query(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵviewQuery(_c0, 5);\n            i0.ɵɵviewQuery(_c1, 5);\n            i0.ɵɵviewQuery(_c2, 5);\n            i0.ɵɵviewQuery(_c3, 5);\n            i0.ɵɵviewQuery(_c4, 5);\n            i0.ɵɵviewQuery(_c5, 5);\n          }\n          if (rf & 2) {\n            let _t;\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.monthlyTrendChartRef = _t.first);\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.monthlyTypeChartRef = _t.first);\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.overallTypeChartRef = _t.first);\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.overallStatusChartRef = _t.first);\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.employeeComparisonChartRef = _t.first);\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.employeeDetailChartRef = _t.first);\n          }\n        },\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 9,\n        vars: 4,\n        consts: [[\"monthlyTrendChart\", \"\"], [\"monthlyTypeChart\", \"\"], [\"overallTypeChart\", \"\"], [\"overallStatusChart\", \"\"], [\"employeeComparisonChart\", \"\"], [\"employeeDetailChart\", \"\"], [1, \"analytics-container\"], [1, \"analytics-header\"], [1, \"analysis-selector\"], [\"class\", \"analysis-btn\", 3, \"active\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"analysis-section\", 4, \"ngIf\"], [1, \"analysis-btn\", 3, \"click\"], [1, \"analysis-section\"], [1, \"section-header\"], [1, \"section-description\"], [1, \"chart-grid\"], [1, \"chart-card\"], [1, \"chart-container\"], [1, \"stats-grid\"], [\"class\", \"stat-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"stat-card\"], [1, \"stat-icon\"], [1, \"stat-content\"], [1, \"stat-value\"], [1, \"stat-label\"], [1, \"overall-stats\"], [1, \"stats-row\"], [1, \"large-stat-card\"], [1, \"large-stat-icon\"], [1, \"large-stat-content\"], [1, \"large-stat-value\"], [1, \"large-stat-label\"], [1, \"employee-selector\"], [1, \"employee-select\", 3, \"ngModelChange\", \"change\", \"ngModel\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"chart-card\", 4, \"ngIf\"], [\"class\", \"employee-stats\", 4, \"ngIf\"], [3, \"value\"], [1, \"employee-stats\"], [1, \"employee-card\"], [1, \"employee-metrics\"], [1, \"metric\"], [1, \"metric-label\"], [1, \"metric-value\"], [1, \"metric-value\", \"active\"], [1, \"metric-value\", \"cancelled\"]],\n        template: function LeaveAnalyticsComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 6)(1, \"div\", 7)(2, \"h2\");\n            i0.ɵɵtext(3, \"\\uD83D\\uDCCA Leave Analytics Dashboard\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(4, \"div\", 8);\n            i0.ɵɵtemplate(5, LeaveAnalyticsComponent_button_5_Template, 2, 4, \"button\", 9);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(6, LeaveAnalyticsComponent_div_6_Template, 19, 1, \"div\", 10)(7, LeaveAnalyticsComponent_div_7_Template, 51, 4, \"div\", 10)(8, LeaveAnalyticsComponent_div_8_Template, 19, 4, \"div\", 10);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"ngForOf\", ctx.analysisTypes);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.activeAnalysis === \"monthly\");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.activeAnalysis === \"overall\");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.activeAnalysis === \"employee\");\n          }\n        },\n        dependencies: [CommonModule, i2.NgForOf, i2.NgIf, FormsModule, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgModel],\n        styles: [\".analytics-container[_ngcontent-%COMP%] {\\n      background: var(--bg-secondary);\\n      border-radius: 16px;\\n      padding: 30px;\\n      box-shadow: var(--shadow-lg);\\n      margin: 20px 0;\\n    }\\n\\n    .analytics-header[_ngcontent-%COMP%] {\\n      display: flex;\\n      justify-content: space-between;\\n      align-items: center;\\n      margin-bottom: 30px;\\n      flex-wrap: wrap;\\n      gap: 20px;\\n    }\\n\\n    .analytics-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n      color: var(--text-primary);\\n      margin: 0;\\n      font-size: 28px;\\n      font-weight: 700;\\n    }\\n\\n    .analysis-selector[_ngcontent-%COMP%] {\\n      display: flex;\\n      gap: 12px;\\n      flex-wrap: wrap;\\n    }\\n\\n    .analysis-btn[_ngcontent-%COMP%] {\\n      background: var(--bg-tertiary);\\n      color: var(--text-primary);\\n      border: 2px solid var(--border-color);\\n      padding: 12px 20px;\\n      border-radius: 25px;\\n      cursor: pointer;\\n      font-size: 14px;\\n      font-weight: 600;\\n      transition: all 0.3s ease;\\n      display: flex;\\n      align-items: center;\\n      gap: 8px;\\n    }\\n\\n    .analysis-btn[_ngcontent-%COMP%]:hover {\\n      transform: translateY(-2px);\\n      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);\\n    }\\n\\n    .analysis-btn.active[_ngcontent-%COMP%] {\\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\\n      color: white;\\n      border-color: transparent;\\n      box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);\\n    }\\n\\n    .analysis-section[_ngcontent-%COMP%] {\\n      animation: _ngcontent-%COMP%_fadeIn 0.5s ease-in-out;\\n    }\\n\\n    @keyframes _ngcontent-%COMP%_fadeIn {\\n      from { opacity: 0; transform: translateY(20px); }\\n      to { opacity: 1; transform: translateY(0); }\\n    }\\n\\n    .section-header[_ngcontent-%COMP%] {\\n      text-align: center;\\n      margin-bottom: 30px;\\n    }\\n\\n    .section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n      color: var(--text-primary);\\n      margin: 0 0 8px 0;\\n      font-size: 24px;\\n      font-weight: 600;\\n    }\\n\\n    .section-description[_ngcontent-%COMP%] {\\n      color: var(--text-secondary);\\n      margin: 0;\\n      font-size: 14px;\\n      font-style: italic;\\n    }\\n\\n    .chart-grid[_ngcontent-%COMP%] {\\n      display: grid;\\n      grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));\\n      gap: 25px;\\n      margin-bottom: 30px;\\n    }\\n\\n    .chart-card[_ngcontent-%COMP%] {\\n      background: var(--bg-primary);\\n      border-radius: 12px;\\n      padding: 20px;\\n      border: 1px solid var(--border-color);\\n      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);\\n    }\\n\\n    .chart-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%] {\\n      color: var(--text-primary);\\n      margin: 0 0 15px 0;\\n      font-size: 16px;\\n      font-weight: 600;\\n      text-align: center;\\n    }\\n\\n    .chart-container[_ngcontent-%COMP%] {\\n      width: 100%;\\n      height: 300px;\\n      display: flex;\\n      justify-content: center;\\n      align-items: center;\\n    }\\n\\n    .stats-grid[_ngcontent-%COMP%] {\\n      display: grid;\\n      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\\n      gap: 20px;\\n      margin-top: 30px;\\n    }\\n\\n    .stat-card[_ngcontent-%COMP%] {\\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\\n      color: white;\\n      padding: 20px;\\n      border-radius: 12px;\\n      display: flex;\\n      align-items: center;\\n      gap: 15px;\\n      box-shadow: 0 6px 16px rgba(102, 126, 234, 0.3);\\n    }\\n\\n    .stat-icon[_ngcontent-%COMP%] {\\n      font-size: 24px;\\n      opacity: 0.9;\\n    }\\n\\n    .stat-content[_ngcontent-%COMP%] {\\n      flex: 1;\\n    }\\n\\n    .stat-value[_ngcontent-%COMP%] {\\n      font-size: 24px;\\n      font-weight: bold;\\n      margin-bottom: 4px;\\n    }\\n\\n    .stat-label[_ngcontent-%COMP%] {\\n      font-size: 12px;\\n      opacity: 0.9;\\n      text-transform: uppercase;\\n      letter-spacing: 0.5px;\\n    }\\n\\n    .overall-stats[_ngcontent-%COMP%] {\\n      margin-top: 30px;\\n    }\\n\\n    .stats-row[_ngcontent-%COMP%] {\\n      display: grid;\\n      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));\\n      gap: 20px;\\n    }\\n\\n    .large-stat-card[_ngcontent-%COMP%] {\\n      background: var(--bg-primary);\\n      border: 2px solid var(--border-color);\\n      padding: 25px;\\n      border-radius: 16px;\\n      display: flex;\\n      align-items: center;\\n      gap: 20px;\\n      transition: all 0.3s ease;\\n    }\\n\\n    .large-stat-card[_ngcontent-%COMP%]:hover {\\n      border-color: #667eea;\\n      box-shadow: 0 8px 24px rgba(102, 126, 234, 0.15);\\n      transform: translateY(-2px);\\n    }\\n\\n    .large-stat-icon[_ngcontent-%COMP%] {\\n      font-size: 32px;\\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\\n      width: 60px;\\n      height: 60px;\\n      border-radius: 50%;\\n      display: flex;\\n      align-items: center;\\n      justify-content: center;\\n    }\\n\\n    .large-stat-content[_ngcontent-%COMP%] {\\n      flex: 1;\\n    }\\n\\n    .large-stat-value[_ngcontent-%COMP%] {\\n      font-size: 28px;\\n      font-weight: bold;\\n      color: var(--text-primary);\\n      margin-bottom: 6px;\\n    }\\n\\n    .large-stat-label[_ngcontent-%COMP%] {\\n      font-size: 14px;\\n      color: var(--text-secondary);\\n      text-transform: uppercase;\\n      letter-spacing: 0.5px;\\n      font-weight: 600;\\n    }\\n\\n    .employee-selector[_ngcontent-%COMP%] {\\n      margin-bottom: 30px;\\n      display: flex;\\n      justify-content: center;\\n    }\\n\\n    .employee-select[_ngcontent-%COMP%] {\\n      background: var(--bg-primary);\\n      color: var(--text-primary);\\n      border: 2px solid var(--border-color);\\n      padding: 12px 20px;\\n      border-radius: 25px;\\n      font-size: 14px;\\n      font-weight: 500;\\n      min-width: 250px;\\n      cursor: pointer;\\n      transition: all 0.3s ease;\\n    }\\n\\n    .employee-select[_ngcontent-%COMP%]:focus {\\n      outline: none;\\n      border-color: #667eea;\\n      box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);\\n    }\\n\\n    .employee-stats[_ngcontent-%COMP%] {\\n      margin-top: 30px;\\n    }\\n\\n    .employee-card[_ngcontent-%COMP%] {\\n      background: var(--bg-primary);\\n      border: 1px solid var(--border-color);\\n      padding: 25px;\\n      border-radius: 12px;\\n    }\\n\\n    .employee-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%] {\\n      color: var(--text-primary);\\n      margin: 0 0 20px 0;\\n      font-size: 18px;\\n      font-weight: 600;\\n      text-align: center;\\n    }\\n\\n    .employee-metrics[_ngcontent-%COMP%] {\\n      display: grid;\\n      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\\n      gap: 15px;\\n    }\\n\\n    .metric[_ngcontent-%COMP%] {\\n      display: flex;\\n      justify-content: space-between;\\n      align-items: center;\\n      padding: 10px 15px;\\n      background: var(--bg-secondary);\\n      border-radius: 8px;\\n      border: 1px solid var(--border-color);\\n    }\\n\\n    .metric-label[_ngcontent-%COMP%] {\\n      color: var(--text-secondary);\\n      font-size: 13px;\\n      font-weight: 500;\\n    }\\n\\n    .metric-value[_ngcontent-%COMP%] {\\n      color: var(--text-primary);\\n      font-size: 14px;\\n      font-weight: 600;\\n    }\\n\\n    .metric-value.active[_ngcontent-%COMP%] {\\n      color: #38a169;\\n    }\\n\\n    .metric-value.cancelled[_ngcontent-%COMP%] {\\n      color: #e53e3e;\\n    }\\n\\n    \\n\\n    [_nghost-%COMP%]     .tooltip {\\n      position: absolute;\\n      background: var(--bg-secondary);\\n      color: var(--text-primary);\\n      padding: 12px;\\n      border-radius: 8px;\\n      border: 1px solid var(--border-color);\\n      box-shadow: var(--shadow-md);\\n      font-size: 12px;\\n      font-weight: 500;\\n      pointer-events: none;\\n      z-index: 1000;\\n      max-width: 200px;\\n    }\\n\\n    [_nghost-%COMP%]     .axis {\\n      font-size: 11px;\\n    }\\n\\n    [_nghost-%COMP%]     .axis text {\\n      fill: var(--text-secondary);\\n    }\\n\\n    [_nghost-%COMP%]     .axis path, \\n   [_nghost-%COMP%]     .axis line {\\n      stroke: var(--border-color);\\n    }\\n\\n    [_nghost-%COMP%]     .grid line {\\n      stroke: var(--border-light);\\n      stroke-dasharray: 2,2;\\n    }\\n\\n    [_nghost-%COMP%]     .grid path {\\n      stroke-width: 0;\\n    }\\n\\n    \\n\\n    @media (max-width: 768px) {\\n      .analytics-container[_ngcontent-%COMP%] {\\n        padding: 20px;\\n      }\\n\\n      .analytics-header[_ngcontent-%COMP%] {\\n        flex-direction: column;\\n        align-items: stretch;\\n      }\\n\\n      .analysis-selector[_ngcontent-%COMP%] {\\n        justify-content: center;\\n      }\\n\\n      .chart-grid[_ngcontent-%COMP%] {\\n        grid-template-columns: 1fr;\\n        gap: 20px;\\n      }\\n\\n      .chart-container[_ngcontent-%COMP%] {\\n        height: 250px;\\n      }\\n\\n      .stats-grid[_ngcontent-%COMP%] {\\n        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\\n        gap: 15px;\\n      }\\n\\n      .stats-row[_ngcontent-%COMP%] {\\n        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));\\n      }\\n\\n      .employee-metrics[_ngcontent-%COMP%] {\\n        grid-template-columns: 1fr;\\n      }\\n    }\\n  \\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9sZWF2ZS1hbmFseXRpY3MvbGVhdmUtYW5hbHl0aWNzLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0lBQ0k7TUFDRSwrQkFBK0I7TUFDL0IsbUJBQW1CO01BQ25CLGFBQWE7TUFDYiw0QkFBNEI7TUFDNUIsY0FBYztJQUNoQjs7SUFFQTtNQUNFLGFBQWE7TUFDYiw4QkFBOEI7TUFDOUIsbUJBQW1CO01BQ25CLG1CQUFtQjtNQUNuQixlQUFlO01BQ2YsU0FBUztJQUNYOztJQUVBO01BQ0UsMEJBQTBCO01BQzFCLFNBQVM7TUFDVCxlQUFlO01BQ2YsZ0JBQWdCO0lBQ2xCOztJQUVBO01BQ0UsYUFBYTtNQUNiLFNBQVM7TUFDVCxlQUFlO0lBQ2pCOztJQUVBO01BQ0UsOEJBQThCO01BQzlCLDBCQUEwQjtNQUMxQixxQ0FBcUM7TUFDckMsa0JBQWtCO01BQ2xCLG1CQUFtQjtNQUNuQixlQUFlO01BQ2YsZUFBZTtNQUNmLGdCQUFnQjtNQUNoQix5QkFBeUI7TUFDekIsYUFBYTtNQUNiLG1CQUFtQjtNQUNuQixRQUFRO0lBQ1Y7O0lBRUE7TUFDRSwyQkFBMkI7TUFDM0IseUNBQXlDO0lBQzNDOztJQUVBO01BQ0UsNkRBQTZEO01BQzdELFlBQVk7TUFDWix5QkFBeUI7TUFDekIsK0NBQStDO0lBQ2pEOztJQUVBO01BQ0Usa0NBQWtDO0lBQ3BDOztJQUVBO01BQ0UsT0FBTyxVQUFVLEVBQUUsMkJBQTJCLEVBQUU7TUFDaEQsS0FBSyxVQUFVLEVBQUUsd0JBQXdCLEVBQUU7SUFDN0M7O0lBRUE7TUFDRSxrQkFBa0I7TUFDbEIsbUJBQW1CO0lBQ3JCOztJQUVBO01BQ0UsMEJBQTBCO01BQzFCLGlCQUFpQjtNQUNqQixlQUFlO01BQ2YsZ0JBQWdCO0lBQ2xCOztJQUVBO01BQ0UsNEJBQTRCO01BQzVCLFNBQVM7TUFDVCxlQUFlO01BQ2Ysa0JBQWtCO0lBQ3BCOztJQUVBO01BQ0UsYUFBYTtN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bEIscUNBQXFDO01BQ3JDLDRCQUE0QjtNQUM1QixlQUFlO01BQ2YsZ0JBQWdCO01BQ2hCLG9CQUFvQjtNQUNwQixhQUFhO01BQ2IsZ0JBQWdCO0lBQ2xCOztJQUVBO01BQ0UsZUFBZTtJQUNqQjs7SUFFQTtNQUNFLDJCQUEyQjtJQUM3Qjs7SUFFQTs7TUFFRSwyQkFBMkI7SUFDN0I7O0lBRUE7TUFDRSwyQkFBMkI7TUFDM0IscUJBQXFCO0lBQ3ZCOztJQUVBO01BQ0UsZUFBZTtJQUNqQjs7SUFFQSxzQkFBc0I7SUFDdEI7TUFDRTtRQUNFLGFBQWE7TUFDZjs7TUFFQTtRQUNFLHNCQUFzQjtRQUN0QixvQkFBb0I7TUFDdEI7O01BRUE7UUFDRSx1QkFBdUI7TUFDekI7O01BRUE7UUFDRSwwQkFBMEI7UUFDMUIsU0FBUztNQUNYOztNQUVBO1FBQ0UsYUFBYTtNQUNmOztNQUVBO1FBQ0UsMkRBQTJEO1FBQzNELFNBQVM7TUFDWDs7TUFFQTtRQUNFLDJEQUEyRDtNQUM3RDs7TUFFQTtRQUNFLDBCQUEwQjtNQUM1QjtJQUNGIiwic291cmNlc0NvbnRlbnQiOlsiXG4gICAgLmFuYWx5dGljcy1jb250YWluZXIge1xuICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmctc2Vjb25kYXJ5KTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDE2cHg7XG4gICAgICBwYWRkaW5nOiAzMHB4O1xuICAgICAgYm94LXNoYWRvdzogdmFyKC0tc2hhZG93LWxnKTtcbiAgICAgIG1hcmdpbjogMjBweCAwO1xuICAgIH1cblxuICAgIC5hbmFseXRpY3MtaGVhZGVyIHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgbWFyZ2luLWJvdHRvbTogMzBweDtcbiAgICAgIGZsZXgtd3JhcDogd3JhcDtcbiAgICAgIGdhcDogMjBweDtcbiAgICB9XG5cbiAgICAuYW5hbHl0aWNzLWhlYWRlciBoMiB7XG4gICAgICBjb2xvcjogdmFyKC0tdGV4dC1wcmltYXJ5KTtcbiAgICAgIG1hcmdpbjogMDtcbiAgICAgIGZvbnQtc2l6ZTogMjhweDtcbiAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7XG4gICAgfVxuXG4gICAgLmFuYWx5c2lzLXNlbGVjdG9yIHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBnYXA6IDEycHg7XG4gICAgICBmbGV4LXdyYXA6IHdyYXA7XG4gICAgfVxuXG4gICAgLmFuYWx5c2lzLWJ0biB7XG4gICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy10ZXJ0aWFyeSk7XG4gICAgICBjb2xvcjogdmFyKC0tdGV4dC1wcmltYXJ5KTtcbiAgICAgIGJvcmRlcjogMnB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7XG4gICAgICBwYWRkaW5nOiAxMnB4IDIwcHg7XG4gICAgICBib3JkZXItcmFkaXVzOiAyNXB4O1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIGdhcDogOHB4O1xuICAgIH1cblxuICAgIC5hbmFseXNpcy1idG46aG92ZXIge1xuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpO1xuICAgICAgYm94LXNoYWRvdzogMCA2cHggMTZweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gICAgfVxuXG4gICAgLmFuYWx5c2lzLWJ0bi5hY3RpdmUge1xuICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzY2N2VlYSAwJSwgIzc2NGJhMiAxMDAlKTtcbiAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgIGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgICBib3gtc2hhZG93OiAwIDhweCAyMHB4IHJnYmEoMTAyLCAxMjYsIDIzNCwgMC4zKTtcbiAgICB9XG5cbiAgICAuYW5hbHlzaXMtc2VjdGlvbiB7XG4gICAgICBhbmltYXRpb246IGZhZGVJbiAwLjVzIGVhc2UtaW4tb3V0O1xuICAgIH1cblxuICAgIEBrZXlmcmFtZXMgZmFkZUluIHtcbiAgICAgIGZyb20geyBvcGFjaXR5OiAwOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMjBweCk7IH1cbiAgICAgIHRvIHsgb3BhY2l0eTogMTsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApOyB9XG4gICAgfVxuXG4gICAgLnNlY3Rpb24taGVhZGVyIHtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIG1hcmdpbi1ib3R0b206IDMwcHg7XG4gICAgfVxuXG4gICAgLnNlY3Rpb24taGVhZGVyIGgzIHtcbiAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LXByaW1hcnkpO1xuICAgICAgbWFyZ2luOiAwIDAgOHB4IDA7XG4gICAgICBmb250LXNpemU6IDI0cHg7XG4gICAgICBmb250LXdlaWdodDogNjAwO1xuICAgIH1cblxuICAgIC5zZWN0aW9uLWRlc2NyaXB0aW9uIHtcbiAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LXNlY29uZGFyeSk7XG4gICAgICBtYXJnaW46IDA7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBmb250LXN0eWxlOiBpdGFsaWM7XG4gICAgfVxuXG4gICAgLmNoYXJ0LWdyaWQge1xuICAgICAgZGlzcGxheTogZ3JpZDtcbiAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoNDAwcHgsIDFmcikpO1xuICAgICAgZ2FwOiAyNXB4O1xuICAgICAgbWFyZ2luLWJvdHRvbTogMzBweDtcbiAgICB9XG5cbiAgICAuY2hhcnQtY2FyZCB7XG4gICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy1wcmltYXJ5KTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7XG4gICAgICBwYWRkaW5nOiAyMHB4O1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTtcbiAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMDUpO1xuICAgIH1cblxuICAgIC5jaGFydC1jYXJkIGg0IHtcbiAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LXByaW1hcnkpO1xuICAgICAgbWFyZ2luOiAwIDAgMTVweCAwO1xuICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICB9XG5cbiAgICAuY2hhcnQtY29udGFpbmVyIHtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgaGVpZ2h0OiAzMDBweDtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgfVxuXG4gICAgLnN0YXRzLWdyaWQge1xuICAgICAgZGlzcGxheTogZ3JpZDtcbiAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMjAwcHgsIDFmcikpO1xuICAgICAgZ2FwOiAyMHB4O1xuICAgICAgbWFyZ2luLXRvcDogMzBweDtcbiAgICB9XG5cbiAgICAuc3RhdC1jYXJkIHtcbiAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICM2NjdlZWEgMCUsICM3NjRiYTIgMTAwJSk7XG4gICAgICBjb2xvcjogd2hpdGU7XG4gICAgICBwYWRkaW5nOiAyMHB4O1xuICAgICAgYm9yZGVyLXJhZGl1czogMTJweDtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgZ2FwOiAxNXB4O1xuICAgICAgYm94LXNoYWRvdzogMCA2cHggMTZweCByZ2JhKDEwMiwgMTI2LCAyMzQsIDAuMyk7XG4gICAgfVxuXG4gICAgLnN0YXQtaWNvbiB7XG4gICAgICBmb250LXNpemU6IDI0cHg7XG4gICAgICBvcGFjaXR5OiAwLjk7XG4gICAgfVxuXG4gICAgLnN0YXQtY29udGVudCB7XG4gICAgICBmbGV4OiAxO1xuICAgIH1cblxuICAgIC5zdGF0LXZhbHVlIHtcbiAgICAgIGZvbnQtc2l6ZTogMjRweDtcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgbWFyZ2luLWJvdHRvbTogNHB4O1xuICAgIH1cblxuICAgIC5zdGF0LWxhYmVsIHtcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgIG9wYWNpdHk6IDAuOTtcbiAgICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gICAgICBsZXR0ZXItc3BhY2luZzogMC41cHg7XG4gICAgfVxuXG4gICAgLm92ZXJhbGwtc3RhdHMge1xuICAgICAgbWFyZ2luLXRvcDogMzBweDtcbiAgICB9XG5cbiAgICAuc3RhdHMtcm93IHtcbiAgICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDIyMHB4LCAxZnIpKTtcbiAgICAgIGdhcDogMjBweDtcbiAgICB9XG5cbiAgICAubGFyZ2Utc3RhdC1jYXJkIHtcbiAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJnLXByaW1hcnkpO1xuICAgICAgYm9yZGVyOiAycHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTtcbiAgICAgIHBhZGRpbmc6IDI1cHg7XG4gICAgICBib3JkZXItcmFkaXVzOiAxNnB4O1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICBnYXA6IDIwcHg7XG4gICAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlO1xuICAgIH1cblxuICAgIC5sYXJnZS1zdGF0LWNhcmQ6aG92ZXIge1xuICAgICAgYm9yZGVyLWNvbG9yOiAjNjY3ZWVhO1xuICAgICAgYm94LXNoYWRvdzogMCA4cHggMjRweCByZ2JhKDEwMiwgMTI2LCAyMzQsIDAuMTUpO1xuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpO1xuICAgIH1cblxuICAgIC5sYXJnZS1zdGF0LWljb24ge1xuICAgICAgZm9udC1zaXplOiAzMnB4O1xuICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzY2N2VlYSAwJSwgIzc2NGJhMiAxMDAlKTtcbiAgICAgIHdpZHRoOiA2MHB4O1xuICAgICAgaGVpZ2h0OiA2MHB4O1xuICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICB9XG5cbiAgICAubGFyZ2Utc3RhdC1jb250ZW50IHtcbiAgICAgIGZsZXg6IDE7XG4gICAgfVxuXG4gICAgLmxhcmdlLXN0YXQtdmFsdWUge1xuICAgICAgZm9udC1zaXplOiAyOHB4O1xuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICBjb2xvcjogdmFyKC0tdGV4dC1wcmltYXJ5KTtcbiAgICAgIG1hcmdpbi1ib3R0b206IDZweDtcbiAgICB9XG5cbiAgICAubGFyZ2Utc3RhdC1sYWJlbCB7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBjb2xvcjogdmFyKC0tdGV4dC1zZWNvbmRhcnkpO1xuICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICAgIGxldHRlci1zcGFjaW5nOiAwLjVweDtcbiAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgfVxuXG4gICAgLmVtcGxveWVlLXNlbGVjdG9yIHtcbiAgICAgIG1hcmdpbi1ib3R0b206IDMwcHg7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgfVxuXG4gICAgLmVtcGxveWVlLXNlbGVjdCB7XG4gICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy1wcmltYXJ5KTtcbiAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LXByaW1hcnkpO1xuICAgICAgYm9yZGVyOiAycHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTtcbiAgICAgIHBhZGRpbmc6IDEycHggMjBweDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDI1cHg7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBmb250LXdlaWdodDogNTAwO1xuICAgICAgbWluLXdpZHRoOiAyNTBweDtcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XG4gICAgfVxuXG4gICAgLmVtcGxveWVlLXNlbGVjdDpmb2N1cyB7XG4gICAgICBvdXRsaW5lOiBub25lO1xuICAgICAgYm9yZGVyLWNvbG9yOiAjNjY3ZWVhO1xuICAgICAgYm94LXNoYWRvdzogMCAwIDAgNHB4IHJnYmEoMTAyLCAxMjYsIDIzNCwgMC4xKTtcbiAgICB9XG5cbiAgICAuZW1wbG95ZWUtc3RhdHMge1xuICAgICAgbWFyZ2luLXRvcDogMzBweDtcbiAgICB9XG5cbiAgICAuZW1wbG95ZWUtY2FyZCB7XG4gICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy1wcmltYXJ5KTtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7XG4gICAgICBwYWRkaW5nOiAyNXB4O1xuICAgICAgYm9yZGVyLXJhZGl1czogMTJweDtcbiAgICB9XG5cbiAgICAuZW1wbG95ZWUtY2FyZCBoNCB7XG4gICAgICBjb2xvcjogdmFyKC0tdGV4dC1wcmltYXJ5KTtcbiAgICAgIG1hcmdpbjogMCAwIDIwcHggMDtcbiAgICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgfVxuXG4gICAgLmVtcGxveWVlLW1ldHJpY3Mge1xuICAgICAgZGlzcGxheTogZ3JpZDtcbiAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMTUwcHgsIDFmcikpO1xuICAgICAgZ2FwOiAxNXB4O1xuICAgIH1cblxuICAgIC5tZXRyaWMge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICBwYWRkaW5nOiAxMHB4IDE1cHg7XG4gICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy1zZWNvbmRhcnkpO1xuICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTtcbiAgICB9XG5cbiAgICAubWV0cmljLWxhYmVsIHtcbiAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LXNlY29uZGFyeSk7XG4gICAgICBmb250LXNpemU6IDEzcHg7XG4gICAgICBmb250LXdlaWdodDogNTAwO1xuICAgIH1cblxuICAgIC5tZXRyaWMtdmFsdWUge1xuICAgICAgY29sb3I6IHZhcigtLXRleHQtcHJpbWFyeSk7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBmb250LXdlaWdodDogNjAwO1xuICAgIH1cblxuICAgIC5tZXRyaWMtdmFsdWUuYWN0aXZlIHtcbiAgICAgIGNvbG9yOiAjMzhhMTY5O1xuICAgIH1cblxuICAgIC5tZXRyaWMtdmFsdWUuY2FuY2VsbGVkIHtcbiAgICAgIGNvbG9yOiAjZTUzZTNlO1xuICAgIH1cblxuICAgIC8qIEQzIENoYXJ0IFN0eWxlcyAqL1xuICAgIDpob3N0IDo6bmctZGVlcCAudG9vbHRpcCB7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy1zZWNvbmRhcnkpO1xuICAgICAgY29sb3I6IHZhcigtLXRleHQtcHJpbWFyeSk7XG4gICAgICBwYWRkaW5nOiAxMnB4O1xuICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTtcbiAgICAgIGJveC1zaGFkb3c6IHZhcigtLXNoYWRvdy1tZCk7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICBmb250LXdlaWdodDogNTAwO1xuICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgICB6LWluZGV4OiAxMDAwO1xuICAgICAgbWF4LXdpZHRoOiAyMDBweDtcbiAgICB9XG5cbiAgICA6aG9zdCA6Om5nLWRlZXAgLmF4aXMge1xuICAgICAgZm9udC1zaXplOiAxMXB4O1xuICAgIH1cblxuICAgIDpob3N0IDo6bmctZGVlcCAuYXhpcyB0ZXh0IHtcbiAgICAgIGZpbGw6IHZhcigtLXRleHQtc2Vjb25kYXJ5KTtcbiAgICB9XG5cbiAgICA6aG9zdCA6Om5nLWRlZXAgLmF4aXMgcGF0aCxcbiAgICA6aG9zdCA6Om5nLWRlZXAgLmF4aXMgbGluZSB7XG4gICAgICBzdHJva2U6IHZhcigtLWJvcmRlci1jb2xvcik7XG4gICAgfVxuXG4gICAgOmhvc3QgOjpuZy1kZWVwIC5ncmlkIGxpbmUge1xuICAgICAgc3Ryb2tlOiB2YXIoLS1ib3JkZXItbGlnaHQpO1xuICAgICAgc3Ryb2tlLWRhc2hhcnJheTogMiwyO1xuICAgIH1cblxuICAgIDpob3N0IDo6bmctZGVlcCAuZ3JpZCBwYXRoIHtcbiAgICAgIHN0cm9rZS13aWR0aDogMDtcbiAgICB9XG5cbiAgICAvKiBSZXNwb25zaXZlIERlc2lnbiAqL1xuICAgIEBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xuICAgICAgLmFuYWx5dGljcy1jb250YWluZXIge1xuICAgICAgICBwYWRkaW5nOiAyMHB4O1xuICAgICAgfVxuXG4gICAgICAuYW5hbHl0aWNzLWhlYWRlciB7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIGFsaWduLWl0ZW1zOiBzdHJldGNoO1xuICAgICAgfVxuXG4gICAgICAuYW5hbHlzaXMtc2VsZWN0b3Ige1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgIH1cblxuICAgICAgLmNoYXJ0LWdyaWQge1xuICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmcjtcbiAgICAgICAgZ2FwOiAyMHB4O1xuICAgICAgfVxuXG4gICAgICAuY2hhcnQtY29udGFpbmVyIHtcbiAgICAgICAgaGVpZ2h0OiAyNTBweDtcbiAgICAgIH1cblxuICAgICAgLnN0YXRzLWdyaWQge1xuICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDE1MHB4LCAxZnIpKTtcbiAgICAgICAgZ2FwOiAxNXB4O1xuICAgICAgfVxuXG4gICAgICAuc3RhdHMtcm93IHtcbiAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maXQsIG1pbm1heCgxODBweCwgMWZyKSk7XG4gICAgICB9XG5cbiAgICAgIC5lbXBsb3llZS1tZXRyaWNzIHtcbiAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7XG4gICAgICB9XG4gICAgfVxuICAiXSwic291cmNlUm9vdCI6IiJ9 */\"]\n      });\n    }\n  }\n  return LeaveAnalyticsComponent;\n})();","map":{"version":3,"names":["CommonModule","Subscription","d3","FormsModule","i0","ɵɵelementStart","ɵɵlistener","LeaveAnalyticsComponent_button_5_Template_button_click_0_listener","analysis_r2","ɵɵrestoreView","_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","switchAnalysis","type","ɵɵtext","ɵɵelementEnd","ɵɵclassProp","activeAnalysis","ɵɵadvance","ɵɵtextInterpolate2","icon","name","ɵɵtextInterpolate","stat_r4","value","label","ɵɵelement","ɵɵtemplate","LeaveAnalyticsComponent_div_6_div_18_Template","ɵɵproperty","monthlyStats","overallData","totalStats","totalLeaves","uniqueEmployees","avgLeavesPerEmployee","mostUsedLeaveType","emp_r6","ɵɵtextInterpolate1","selectedEmployee","selectedEmployeeData","employeeName","activeLeaves","cancelledLeaves","getMostUsedLeaveType","ɵɵtwoWayListener","LeaveAnalyticsComponent_div_8_Template_select_ngModelChange_7_listener","$event","_r5","ɵɵtwoWayBindingSet","LeaveAnalyticsComponent_div_8_Template_select_change_7_listener","updateEmployeeAnalysis","LeaveAnalyticsComponent_div_8_option_10_Template","LeaveAnalyticsComponent_div_8_div_17_Template","LeaveAnalyticsComponent_div_8_div_18_Template","ɵɵtwoWayProperty","employeeList","LeaveAnalyticsComponent","employeeData","map","emp","sort","constructor","leaveService","leaveRecords","monthlyData","leaveTypes","statusDistribution","analysisTypes","subscription","ngOnInit","add","getLeaveRecords","subscribe","records","processAllData","updateAnalysis","ngAfterViewInit","setTimeout","ngOnDestroy","unsubscribe","selectAll","remove","processMonthlyData","processOverallData","processEmployeeData","updateMonthlyStats","monthlyMap","Map","forEach","record","date","Date","leaveDate","monthKey","getFullYear","String","getMonth","padStart","monthDisplay","toLocaleDateString","year","month","leaveType","has","set","monthDate","employees","monthData","get","includes","push","Array","from","values","a","b","getTime","leaveTypeMap","statusMap","status","entries","count","percentage","length","Set","r","size","filter","mostUsedType","parseFloat","toFixed","employeeMap","monthlyTrend","empData","totalMonths","avgLeavesPerMonth","peakMonth","reduce","prev","current","latestMonth","toString","analysisType","find","createEmployeeDetailChart","types","Object","mostUsed","createMonthlyTrendChart","createMonthlyTypeChart","createOverallTypeChart","createOverallStatusChart","createEmployeeComparisonChart","monthlyTrendChartRef","nativeElement","element","select","margin","top","right","bottom","left","width","offsetWidth","height","svg","append","attr","g","x","scaleTime","domain","extent","d","range","y","scaleLinear","max","nice","line","curve","curveMonotoneX","tooltip","style","call","axisBottom","tickSize","tickFormat","axisLeft","datum","data","enter","on","event","transition","duration","html","pageX","pageY","timeFormat","monthlyTypeChartRef","allLeaveTypes","flatMap","keys","stackData","item","scaleBand","padding","color","scaleOrdinal","schemeCategory10","stack","stackedData","key","bandwidth","target","parentNode","k","legend","i","text","overallTypeChartRef","radius","Math","min","schemeSet3","pie","arc","innerRadius","outerRadius","labelArc","arcs","centroid","overallStatusChartRef","employeeComparisonChartRef","employeeDetailChartRef","leaveTypeData","ɵɵdirectiveInject","i1","LeaveService","selectors","viewQuery","LeaveAnalyticsComponent_Query","rf","ctx","LeaveAnalyticsComponent_button_5_Template","LeaveAnalyticsComponent_div_6_Template","LeaveAnalyticsComponent_div_7_Template","LeaveAnalyticsComponent_div_8_Template","i2","NgForOf","NgIf","i3","NgSelectOption","ɵNgSelectMultipleOption","SelectControlValueAccessor","NgControlStatus","NgModel","styles"],"sources":["/Users/Pallavi/Documents/Github/leave-tracker-excel/frontend/src/app/components/leave-analytics/leave-analytics.component.ts"],"sourcesContent":["import { Component, OnInit, OnDestroy, ElementRef, ViewChild, AfterViewInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Subscription } from 'rxjs';\nimport * as d3 from 'd3';\nimport { LeaveService } from '../../services/leave.service';\nimport { LeaveRecord } from '../../models/leave-record.model';\nimport { FormsModule } from '@angular/forms';\n\ninterface MonthlyData {\n  month: string;\n  monthDate: Date;\n  totalLeaves: number;\n  leaveTypes: { [key: string]: number };\n  employees: string[];\n}\n\ninterface OverallData {\n  leaveTypes: { type: string; count: number; percentage: number }[];\n  statusDistribution: { status: string; count: number; percentage: number }[];\n  totalStats: {\n    totalLeaves: number;\n    activeLeaves: number;\n    cancelledLeaves: number;\n    uniqueEmployees: number;\n    avgLeavesPerEmployee: number;\n    mostUsedLeaveType: string;\n  };\n}\n\ninterface EmployeeData {\n  employeeName: string;\n  totalLeaves: number;\n  activeLeaves: number;\n  cancelledLeaves: number;\n  leaveTypes: { [key: string]: number };\n  monthlyTrend: { month: string; count: number }[];\n}\n\n@Component({\n  selector: 'app-leave-analytics',\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  template: `\n    <div class=\"analytics-container\">\n      <div class=\"analytics-header\">\n        <h2>📊 Leave Analytics Dashboard</h2>\n        <div class=\"analysis-selector\">\n          <button \n            *ngFor=\"let analysis of analysisTypes\" \n            class=\"analysis-btn\"\n            [class.active]=\"activeAnalysis === analysis.type\"\n            (click)=\"switchAnalysis(analysis.type)\">\n            {{ analysis.icon }} {{ analysis.name }}\n          </button>\n        </div>\n      </div>\n\n      <!-- Monthly Analysis -->\n      <div class=\"analysis-section\" *ngIf=\"activeAnalysis === 'monthly'\">\n        <div class=\"section-header\">\n          <h3>📅 Monthly Leave Analysis</h3>\n          <p class=\"section-description\">Track leave patterns and trends over time</p>\n        </div>\n        \n        <div class=\"chart-grid\">\n          <div class=\"chart-card\">\n            <h4>Monthly Leave Trends</h4>\n            <div #monthlyTrendChart class=\"chart-container\"></div>\n          </div>\n          \n          <div class=\"chart-card\">\n            <h4>Leave Types by Month</h4>\n            <div #monthlyTypeChart class=\"chart-container\"></div>\n          </div>\n        </div>\n\n        <div class=\"stats-grid\">\n          <div class=\"stat-card\" *ngFor=\"let stat of monthlyStats\">\n            <div class=\"stat-icon\">{{ stat.icon }}</div>\n            <div class=\"stat-content\">\n              <div class=\"stat-value\">{{ stat.value }}</div>\n              <div class=\"stat-label\">{{ stat.label }}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Overall Analysis -->\n      <div class=\"analysis-section\" *ngIf=\"activeAnalysis === 'overall'\">\n        <div class=\"section-header\">\n          <h3>📈 Overall Leave Analysis</h3>\n          <p class=\"section-description\">Complete overview of leave patterns and distribution</p>\n        </div>\n        \n        <div class=\"chart-grid\">\n          <div class=\"chart-card\">\n            <h4>Leave Types Distribution</h4>\n            <div #overallTypeChart class=\"chart-container\"></div>\n          </div>\n          \n          <div class=\"chart-card\">\n            <h4>Status Distribution</h4>\n            <div #overallStatusChart class=\"chart-container\"></div>\n          </div>\n        </div>\n\n        <div class=\"overall-stats\">\n          <div class=\"stats-row\">\n            <div class=\"large-stat-card\">\n              <div class=\"large-stat-icon\">📋</div>\n              <div class=\"large-stat-content\">\n                <div class=\"large-stat-value\">{{ overallData.totalStats.totalLeaves }}</div>\n                <div class=\"large-stat-label\">Total Leaves</div>\n              </div>\n            </div>\n            <div class=\"large-stat-card\">\n              <div class=\"large-stat-icon\">👥</div>\n              <div class=\"large-stat-content\">\n                <div class=\"large-stat-value\">{{ overallData.totalStats.uniqueEmployees }}</div>\n                <div class=\"large-stat-label\">Employees</div>\n              </div>\n            </div>\n            <div class=\"large-stat-card\">\n              <div class=\"large-stat-icon\">📊</div>\n              <div class=\"large-stat-content\">\n                <div class=\"large-stat-value\">{{ overallData.totalStats.avgLeavesPerEmployee }}</div>\n                <div class=\"large-stat-label\">Avg per Employee</div>\n              </div>\n            </div>\n            <div class=\"large-stat-card\">\n              <div class=\"large-stat-icon\">🏆</div>\n              <div class=\"large-stat-content\">\n                <div class=\"large-stat-value\">{{ overallData.totalStats.mostUsedLeaveType }}</div>\n                <div class=\"large-stat-label\">Most Used Type</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Employee Analysis -->\n      <div class=\"analysis-section\" *ngIf=\"activeAnalysis === 'employee'\">\n        <div class=\"section-header\">\n          <h3>👤 Employee Leave Analysis</h3>\n          <p class=\"section-description\">Individual employee leave patterns and comparisons</p>\n        </div>\n        \n        <div class=\"employee-selector\">\n          <select [(ngModel)]=\"selectedEmployee\" (change)=\"updateEmployeeAnalysis()\" class=\"employee-select\">\n            <option value=\"\">Select Employee for Detailed View</option>\n            <option *ngFor=\"let emp of employeeList\" [value]=\"emp\">{{ emp }}</option>\n          </select>\n        </div>\n\n        <div class=\"chart-grid\">\n          <div class=\"chart-card\">\n            <h4>Employee Leave Comparison</h4>\n            <div #employeeComparisonChart class=\"chart-container\"></div>\n          </div>\n          \n          <div class=\"chart-card\" *ngIf=\"selectedEmployee\">\n            <h4>{{ selectedEmployee }} - Leave Types</h4>\n            <div #employeeDetailChart class=\"chart-container\"></div>\n          </div>\n        </div>\n\n        <div class=\"employee-stats\" *ngIf=\"selectedEmployeeData\">\n          <div class=\"employee-card\">\n            <h4>{{ selectedEmployeeData.employeeName }} - Statistics</h4>\n            <div class=\"employee-metrics\">\n              <div class=\"metric\">\n                <span class=\"metric-label\">Total Leaves:</span>\n                <span class=\"metric-value\">{{ selectedEmployeeData.totalLeaves }}</span>\n              </div>\n              <div class=\"metric\">\n                <span class=\"metric-label\">Active:</span>\n                <span class=\"metric-value active\">{{ selectedEmployeeData.activeLeaves }}</span>\n              </div>\n              <div class=\"metric\">\n                <span class=\"metric-label\">Cancelled:</span>\n                <span class=\"metric-value cancelled\">{{ selectedEmployeeData.cancelledLeaves }}</span>\n              </div>\n              <div class=\"metric\">\n                <span class=\"metric-label\">Most Used Type:</span>\n                <span class=\"metric-value\">{{ getMostUsedLeaveType(selectedEmployeeData) }}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  `,\n  styles: [`\n    .analytics-container {\n      background: var(--bg-secondary);\n      border-radius: 16px;\n      padding: 30px;\n      box-shadow: var(--shadow-lg);\n      margin: 20px 0;\n    }\n\n    .analytics-header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      margin-bottom: 30px;\n      flex-wrap: wrap;\n      gap: 20px;\n    }\n\n    .analytics-header h2 {\n      color: var(--text-primary);\n      margin: 0;\n      font-size: 28px;\n      font-weight: 700;\n    }\n\n    .analysis-selector {\n      display: flex;\n      gap: 12px;\n      flex-wrap: wrap;\n    }\n\n    .analysis-btn {\n      background: var(--bg-tertiary);\n      color: var(--text-primary);\n      border: 2px solid var(--border-color);\n      padding: 12px 20px;\n      border-radius: 25px;\n      cursor: pointer;\n      font-size: 14px;\n      font-weight: 600;\n      transition: all 0.3s ease;\n      display: flex;\n      align-items: center;\n      gap: 8px;\n    }\n\n    .analysis-btn:hover {\n      transform: translateY(-2px);\n      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);\n    }\n\n    .analysis-btn.active {\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n      color: white;\n      border-color: transparent;\n      box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);\n    }\n\n    .analysis-section {\n      animation: fadeIn 0.5s ease-in-out;\n    }\n\n    @keyframes fadeIn {\n      from { opacity: 0; transform: translateY(20px); }\n      to { opacity: 1; transform: translateY(0); }\n    }\n\n    .section-header {\n      text-align: center;\n      margin-bottom: 30px;\n    }\n\n    .section-header h3 {\n      color: var(--text-primary);\n      margin: 0 0 8px 0;\n      font-size: 24px;\n      font-weight: 600;\n    }\n\n    .section-description {\n      color: var(--text-secondary);\n      margin: 0;\n      font-size: 14px;\n      font-style: italic;\n    }\n\n    .chart-grid {\n      display: grid;\n      grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));\n      gap: 25px;\n      margin-bottom: 30px;\n    }\n\n    .chart-card {\n      background: var(--bg-primary);\n      border-radius: 12px;\n      padding: 20px;\n      border: 1px solid var(--border-color);\n      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);\n    }\n\n    .chart-card h4 {\n      color: var(--text-primary);\n      margin: 0 0 15px 0;\n      font-size: 16px;\n      font-weight: 600;\n      text-align: center;\n    }\n\n    .chart-container {\n      width: 100%;\n      height: 300px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n\n    .stats-grid {\n      display: grid;\n      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n      gap: 20px;\n      margin-top: 30px;\n    }\n\n    .stat-card {\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n      color: white;\n      padding: 20px;\n      border-radius: 12px;\n      display: flex;\n      align-items: center;\n      gap: 15px;\n      box-shadow: 0 6px 16px rgba(102, 126, 234, 0.3);\n    }\n\n    .stat-icon {\n      font-size: 24px;\n      opacity: 0.9;\n    }\n\n    .stat-content {\n      flex: 1;\n    }\n\n    .stat-value {\n      font-size: 24px;\n      font-weight: bold;\n      margin-bottom: 4px;\n    }\n\n    .stat-label {\n      font-size: 12px;\n      opacity: 0.9;\n      text-transform: uppercase;\n      letter-spacing: 0.5px;\n    }\n\n    .overall-stats {\n      margin-top: 30px;\n    }\n\n    .stats-row {\n      display: grid;\n      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));\n      gap: 20px;\n    }\n\n    .large-stat-card {\n      background: var(--bg-primary);\n      border: 2px solid var(--border-color);\n      padding: 25px;\n      border-radius: 16px;\n      display: flex;\n      align-items: center;\n      gap: 20px;\n      transition: all 0.3s ease;\n    }\n\n    .large-stat-card:hover {\n      border-color: #667eea;\n      box-shadow: 0 8px 24px rgba(102, 126, 234, 0.15);\n      transform: translateY(-2px);\n    }\n\n    .large-stat-icon {\n      font-size: 32px;\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n      width: 60px;\n      height: 60px;\n      border-radius: 50%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n\n    .large-stat-content {\n      flex: 1;\n    }\n\n    .large-stat-value {\n      font-size: 28px;\n      font-weight: bold;\n      color: var(--text-primary);\n      margin-bottom: 6px;\n    }\n\n    .large-stat-label {\n      font-size: 14px;\n      color: var(--text-secondary);\n      text-transform: uppercase;\n      letter-spacing: 0.5px;\n      font-weight: 600;\n    }\n\n    .employee-selector {\n      margin-bottom: 30px;\n      display: flex;\n      justify-content: center;\n    }\n\n    .employee-select {\n      background: var(--bg-primary);\n      color: var(--text-primary);\n      border: 2px solid var(--border-color);\n      padding: 12px 20px;\n      border-radius: 25px;\n      font-size: 14px;\n      font-weight: 500;\n      min-width: 250px;\n      cursor: pointer;\n      transition: all 0.3s ease;\n    }\n\n    .employee-select:focus {\n      outline: none;\n      border-color: #667eea;\n      box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);\n    }\n\n    .employee-stats {\n      margin-top: 30px;\n    }\n\n    .employee-card {\n      background: var(--bg-primary);\n      border: 1px solid var(--border-color);\n      padding: 25px;\n      border-radius: 12px;\n    }\n\n    .employee-card h4 {\n      color: var(--text-primary);\n      margin: 0 0 20px 0;\n      font-size: 18px;\n      font-weight: 600;\n      text-align: center;\n    }\n\n    .employee-metrics {\n      display: grid;\n      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n      gap: 15px;\n    }\n\n    .metric {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 10px 15px;\n      background: var(--bg-secondary);\n      border-radius: 8px;\n      border: 1px solid var(--border-color);\n    }\n\n    .metric-label {\n      color: var(--text-secondary);\n      font-size: 13px;\n      font-weight: 500;\n    }\n\n    .metric-value {\n      color: var(--text-primary);\n      font-size: 14px;\n      font-weight: 600;\n    }\n\n    .metric-value.active {\n      color: #38a169;\n    }\n\n    .metric-value.cancelled {\n      color: #e53e3e;\n    }\n\n    /* D3 Chart Styles */\n    :host ::ng-deep .tooltip {\n      position: absolute;\n      background: var(--bg-secondary);\n      color: var(--text-primary);\n      padding: 12px;\n      border-radius: 8px;\n      border: 1px solid var(--border-color);\n      box-shadow: var(--shadow-md);\n      font-size: 12px;\n      font-weight: 500;\n      pointer-events: none;\n      z-index: 1000;\n      max-width: 200px;\n    }\n\n    :host ::ng-deep .axis {\n      font-size: 11px;\n    }\n\n    :host ::ng-deep .axis text {\n      fill: var(--text-secondary);\n    }\n\n    :host ::ng-deep .axis path,\n    :host ::ng-deep .axis line {\n      stroke: var(--border-color);\n    }\n\n    :host ::ng-deep .grid line {\n      stroke: var(--border-light);\n      stroke-dasharray: 2,2;\n    }\n\n    :host ::ng-deep .grid path {\n      stroke-width: 0;\n    }\n\n    /* Responsive Design */\n    @media (max-width: 768px) {\n      .analytics-container {\n        padding: 20px;\n      }\n\n      .analytics-header {\n        flex-direction: column;\n        align-items: stretch;\n      }\n\n      .analysis-selector {\n        justify-content: center;\n      }\n\n      .chart-grid {\n        grid-template-columns: 1fr;\n        gap: 20px;\n      }\n\n      .chart-container {\n        height: 250px;\n      }\n\n      .stats-grid {\n        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n        gap: 15px;\n      }\n\n      .stats-row {\n        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));\n      }\n\n      .employee-metrics {\n        grid-template-columns: 1fr;\n      }\n    }\n  `]\n})\nexport class LeaveAnalyticsComponent implements OnInit, OnDestroy, AfterViewInit {\n  @ViewChild('monthlyTrendChart', { static: false }) monthlyTrendChartRef!: ElementRef;\n  @ViewChild('monthlyTypeChart', { static: false }) monthlyTypeChartRef!: ElementRef;\n  @ViewChild('overallTypeChart', { static: false }) overallTypeChartRef!: ElementRef;\n  @ViewChild('overallStatusChart', { static: false }) overallStatusChartRef!: ElementRef;\n  @ViewChild('employeeComparisonChart', { static: false }) employeeComparisonChartRef!: ElementRef;\n  @ViewChild('employeeDetailChart', { static: false }) employeeDetailChartRef!: ElementRef;\n\n  leaveRecords: LeaveRecord[] = [];\n  monthlyData: MonthlyData[] = [];\n  overallData: OverallData = {\n    leaveTypes: [],\n    statusDistribution: [],\n    totalStats: {\n      totalLeaves: 0,\n      activeLeaves: 0,\n      cancelledLeaves: 0,\n      uniqueEmployees: 0,\n      avgLeavesPerEmployee: 0,\n      mostUsedLeaveType: '-'\n    }\n  };\n  employeeData: EmployeeData[] = [];\n  \n  activeAnalysis: string = 'monthly';\n  analysisTypes = [\n    { type: 'monthly', name: 'Monthly Analysis', icon: '📅' },\n    { type: 'overall', name: 'Overall Analysis', icon: '📈' },\n    { type: 'employee', name: 'Employee Analysis', icon: '👤' }\n  ];\n\n  selectedEmployee: string = '';\n  selectedEmployeeData: EmployeeData | null = null;\n  \n  private subscription: Subscription = new Subscription();\n\n  // Monthly stats for display\n  monthlyStats: Array<{icon: string, value: string, label: string}> = [];\n\n  get employeeList(): string[] {\n    return this.employeeData.map(emp => emp.employeeName).sort();\n  }\n\n  constructor(private leaveService: LeaveService) {}\n\n  ngOnInit(): void {\n    this.subscription.add(\n      this.leaveService.getLeaveRecords().subscribe(records => {\n        this.leaveRecords = records;\n        this.processAllData();\n        this.updateAnalysis();\n      })\n    );\n  }\n\n  ngAfterViewInit(): void {\n    setTimeout(() => {\n      this.updateAnalysis();\n    }, 100);\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n    // Clean up any D3 tooltips\n    d3.selectAll('.tooltip').remove();\n  }\n\n  private processAllData(): void {\n    this.processMonthlyData();\n    this.processOverallData();\n    this.processEmployeeData();\n    this.updateMonthlyStats();\n  }\n\n  private processMonthlyData(): void {\n    const monthlyMap = new Map<string, MonthlyData>();\n\n    this.leaveRecords.forEach(record => {\n      const date = new Date(record.leaveDate);\n      const monthKey = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}`;\n      const monthDisplay = date.toLocaleDateString('en-US', { year: 'numeric', month: 'long' });\n      const leaveType = record.leaveType || 'Annual Leave';\n\n      if (!monthlyMap.has(monthKey)) {\n        monthlyMap.set(monthKey, {\n          month: monthDisplay,\n          monthDate: new Date(date.getFullYear(), date.getMonth(), 1),\n          totalLeaves: 0,\n          leaveTypes: {},\n          employees: []\n        });\n      }\n\n      const monthData = monthlyMap.get(monthKey)!;\n      monthData.totalLeaves++;\n      monthData.leaveTypes[leaveType] = (monthData.leaveTypes[leaveType] || 0) + 1;\n      \n      if (!monthData.employees.includes(record.employeeName)) {\n        monthData.employees.push(record.employeeName);\n      }\n    });\n\n    this.monthlyData = Array.from(monthlyMap.values())\n      .sort((a, b) => a.monthDate.getTime() - b.monthDate.getTime());\n  }\n\n  private processOverallData(): void {\n    // Process leave types\n    const leaveTypeMap = new Map<string, number>();\n    const statusMap = new Map<string, number>();\n\n    this.leaveRecords.forEach(record => {\n      const leaveType = record.leaveType || 'Annual Leave';\n      const status = record.status;\n\n      leaveTypeMap.set(leaveType, (leaveTypeMap.get(leaveType) || 0) + 1);\n      statusMap.set(status, (statusMap.get(status) || 0) + 1);\n    });\n\n    this.overallData.leaveTypes = Array.from(leaveTypeMap.entries())\n      .map(([type, count]) => ({\n        type,\n        count,\n        percentage: (count / this.leaveRecords.length) * 100\n      }))\n      .sort((a, b) => b.count - a.count);\n\n    this.overallData.statusDistribution = Array.from(statusMap.entries())\n      .map(([status, count]) => ({\n        status,\n        count,\n        percentage: (count / this.leaveRecords.length) * 100\n      }));\n\n    // Calculate overall stats\n    const uniqueEmployees = new Set(this.leaveRecords.map(r => r.employeeName)).size;\n    const activeLeaves = this.leaveRecords.filter(r => r.status === 'Active').length;\n    const cancelledLeaves = this.leaveRecords.filter(r => r.status === 'Cancelled').length;\n    const mostUsedType = this.overallData.leaveTypes.length > 0 ? this.overallData.leaveTypes[0].type : '-';\n\n    this.overallData.totalStats = {\n      totalLeaves: this.leaveRecords.length,\n      activeLeaves,\n      cancelledLeaves,\n      uniqueEmployees,\n      avgLeavesPerEmployee: uniqueEmployees > 0 ? parseFloat((this.leaveRecords.length / uniqueEmployees).toFixed(1)) : 0,\n      mostUsedLeaveType: mostUsedType\n    };\n  }\n\n  private processEmployeeData(): void {\n    const employeeMap = new Map<string, EmployeeData>();\n\n    this.leaveRecords.forEach(record => {\n      const name = record.employeeName;\n      const leaveType = record.leaveType || 'Annual Leave';\n      const month = new Date(record.leaveDate).toLocaleDateString('en-US', { \n        year: 'numeric', \n        month: 'short' \n      });\n\n      if (!employeeMap.has(name)) {\n        employeeMap.set(name, {\n          employeeName: name,\n          totalLeaves: 0,\n          activeLeaves: 0,\n          cancelledLeaves: 0,\n          leaveTypes: {},\n          monthlyTrend: []\n        });\n      }\n\n      const empData = employeeMap.get(name)!;\n      empData.totalLeaves++;\n      \n      if (record.status === 'Active') empData.activeLeaves++;\n      else empData.cancelledLeaves++;\n      \n      empData.leaveTypes[leaveType] = (empData.leaveTypes[leaveType] || 0) + 1;\n    });\n\n    this.employeeData = Array.from(employeeMap.values())\n      .sort((a, b) => b.totalLeaves - a.totalLeaves);\n  }\n\n  private updateMonthlyStats(): void {\n    if (this.monthlyData.length === 0) {\n      this.monthlyStats = [];\n      return;\n    }\n\n    const totalMonths = this.monthlyData.length;\n    const avgLeavesPerMonth = this.leaveRecords.length / totalMonths;\n    const peakMonth = this.monthlyData.reduce((prev, current) => \n      prev.totalLeaves > current.totalLeaves ? prev : current\n    );\n    const latestMonth = this.monthlyData[this.monthlyData.length - 1];\n\n    this.monthlyStats = [\n      { icon: '📅', value: totalMonths.toString(), label: 'Months Tracked' },\n      { icon: '📊', value: avgLeavesPerMonth.toFixed(1), label: 'Avg per Month' },\n      { icon: '🏆', value: peakMonth.month, label: 'Peak Month' },\n      { icon: '📈', value: latestMonth.totalLeaves.toString(), label: 'Latest Month' }\n    ];\n  }\n\n  switchAnalysis(analysisType: string): void {\n    this.activeAnalysis = analysisType;\n    setTimeout(() => {\n      this.updateAnalysis();\n    }, 100);\n  }\n\n  updateEmployeeAnalysis(): void {\n    if (this.selectedEmployee) {\n      this.selectedEmployeeData = this.employeeData.find(emp => emp.employeeName === this.selectedEmployee) || null;\n      setTimeout(() => {\n        this.createEmployeeDetailChart();\n      }, 100);\n    } else {\n      this.selectedEmployeeData = null;\n    }\n  }\n\n  getMostUsedLeaveType(employeeData: EmployeeData): string {\n    const types = Object.entries(employeeData.leaveTypes);\n    if (types.length === 0) return '-';\n    \n    const mostUsed = types.reduce((prev, current) => \n      prev[1] > current[1] ? prev : current\n    );\n    return mostUsed[0];\n  }\n\n  private updateAnalysis(): void {\n    if (this.leaveRecords.length === 0) return;\n\n    switch (this.activeAnalysis) {\n      case 'monthly':\n        this.createMonthlyTrendChart();\n        this.createMonthlyTypeChart();\n        break;\n      case 'overall':\n        this.createOverallTypeChart();\n        this.createOverallStatusChart();\n        break;\n      case 'employee':\n        this.createEmployeeComparisonChart();\n        if (this.selectedEmployee) {\n          this.createEmployeeDetailChart();\n        }\n        break;\n    }\n  }\n\n  private createMonthlyTrendChart(): void {\n    if (!this.monthlyTrendChartRef?.nativeElement) return;\n\n    const element = this.monthlyTrendChartRef.nativeElement;\n    d3.select(element).selectAll('*').remove();\n\n    const margin = { top: 20, right: 30, bottom: 50, left: 50 };\n    const width = element.offsetWidth - margin.left - margin.right;\n    const height = 300 - margin.top - margin.bottom;\n\n    const svg = d3.select(element)\n      .append('svg')\n      .attr('width', width + margin.left + margin.right)\n      .attr('height', height + margin.top + margin.bottom);\n\n    const g = svg.append('g')\n      .attr('transform', `translate(${margin.left},${margin.top})`);\n\n    // Scales\n    const x = d3.scaleTime()\n      .domain(d3.extent(this.monthlyData, d => d.monthDate) as [Date, Date])\n      .range([0, width]);\n\n    const y = d3.scaleLinear()\n      .domain([0, d3.max(this.monthlyData, d => d.totalLeaves) || 0])\n      .nice()\n      .range([height, 0]);\n\n    // Line generator\n    const line = d3.line<MonthlyData>()\n      .x(d => x(d.monthDate))\n      .y(d => y(d.totalLeaves))\n      .curve(d3.curveMonotoneX);\n\n    // Create tooltip\n    const tooltip = d3.select('body').append('div')\n      .attr('class', 'tooltip')\n      .style('opacity', 0);\n\n    // Add grid\n    g.append('g')\n      .attr('class', 'grid')\n      .attr('transform', `translate(0,${height})`)\n      .call(d3.axisBottom(x).tickSize(-height).tickFormat(() => ''));\n\n    g.append('g')\n      .attr('class', 'grid')\n      .call(d3.axisLeft(y).tickSize(-width).tickFormat(() => ''));\n\n    // Add line\n    g.append('path')\n      .datum(this.monthlyData)\n      .attr('fill', 'none')\n      .attr('stroke', '#667eea')\n      .attr('stroke-width', 3)\n      .attr('d', line);\n\n    // Add dots\n    g.selectAll('.dot')\n      .data(this.monthlyData)\n      .enter().append('circle')\n      .attr('class', 'dot')\n      .attr('cx', d => x(d.monthDate))\n      .attr('cy', d => y(d.totalLeaves))\n      .attr('r', 6)\n      .attr('fill', '#667eea')\n      .style('stroke', 'var(--bg-secondary)')\n      .style('stroke-width', '3px')\n      .on('mouseover', (event, d) => {\n        tooltip.transition().duration(200).style('opacity', .9);\n        tooltip.html(`\n          <strong>${d.month}</strong><br/>\n          Total Leaves: ${d.totalLeaves}<br/>\n          Employees: ${d.employees.length}<br/>\n          Top Type: ${Object.entries(d.leaveTypes).sort((a, b) => b[1] - a[1])[0]?.[0] || 'None'}\n        `)\n        .style('left', (event.pageX + 10) + 'px')\n        .style('top', (event.pageY - 28) + 'px');\n      })\n      .on('mouseout', () => {\n        tooltip.transition().duration(500).style('opacity', 0);\n      });\n\n    // Axes\n    g.append('g')\n      .attr('class', 'axis')\n      .attr('transform', `translate(0,${height})`)\n      .call(d3.axisBottom(x).tickFormat(d3.timeFormat('%b %Y') as any));\n\n    g.append('g')\n      .attr('class', 'axis')\n      .call(d3.axisLeft(y));\n  }\n\n  private createMonthlyTypeChart(): void {\n    if (!this.monthlyTypeChartRef?.nativeElement || this.monthlyData.length === 0) return;\n\n    const element = this.monthlyTypeChartRef.nativeElement;\n    d3.select(element).selectAll('*').remove();\n\n    const margin = { top: 20, right: 100, bottom: 50, left: 50 };\n    const width = element.offsetWidth - margin.left - margin.right;\n    const height = 300 - margin.top - margin.bottom;\n\n    // Get all unique leave types\n    const allLeaveTypes = Array.from(new Set(\n      this.monthlyData.flatMap(d => Object.keys(d.leaveTypes))\n    ));\n\n    // Transform data for stacked bar chart\n    const stackData = this.monthlyData.map(d => {\n      const item: any = { month: d.month, monthDate: d.monthDate };\n      allLeaveTypes.forEach(type => {\n        item[type] = d.leaveTypes[type] || 0;\n      });\n      return item;\n    });\n\n    const svg = d3.select(element)\n      .append('svg')\n      .attr('width', width + margin.left + margin.right)\n      .attr('height', height + margin.top + margin.bottom);\n\n    const g = svg.append('g')\n      .attr('transform', `translate(${margin.left},${margin.top})`);\n\n    // Scales\n    const x = d3.scaleBand()\n      .domain(this.monthlyData.map(d => d.month))\n      .range([0, width])\n      .padding(0.1);\n\n    const y = d3.scaleLinear()\n      .domain([0, d3.max(this.monthlyData, d => d.totalLeaves) || 0])\n      .nice()\n      .range([height, 0]);\n\n    const color = d3.scaleOrdinal(d3.schemeCategory10)\n      .domain(allLeaveTypes);\n\n    // Stack generator\n    const stack = d3.stack<any>()\n      .keys(allLeaveTypes);\n\n    const stackedData = stack(stackData);\n\n    // Create tooltip\n    const tooltip = d3.select('body').append('div')\n      .attr('class', 'tooltip')\n      .style('opacity', 0);\n\n    // Add stacked bars\n    g.selectAll('.stack')\n      .data(stackedData)\n      .enter().append('g')\n      .attr('class', 'stack')\n      .attr('fill', d => color(d.key))\n      .selectAll('rect')\n      .data(d => d)\n      .enter().append('rect')\n      .attr('x', d => x(d.data.month)!)\n      .attr('y', d => y(d[1]))\n      .attr('height', d => y(d[0]) - y(d[1]))\n      .attr('width', x.bandwidth())\n      .on('mouseover', (event, d: any) => {\n        const leaveType = d3.select(event.target.parentNode).datum() as any;\n        const count = d[1] - d[0];\n        tooltip.transition().duration(200).style('opacity', .9);\n        tooltip.html(`\n          <strong>${d.data.month}</strong><br/>\n          ${leaveType.key}: ${count}<br/>\n          Total: ${d.data[Object.keys(d.data).find(k => k !== 'month' && k !== 'monthDate')!] || 0}\n        `)\n        .style('left', (event.pageX + 10) + 'px')\n        .style('top', (event.pageY - 28) + 'px');\n      })\n      .on('mouseout', () => {\n        tooltip.transition().duration(500).style('opacity', 0);\n      });\n\n    // Axes\n    g.append('g')\n      .attr('class', 'axis')\n      .attr('transform', `translate(0,${height})`)\n      .call(d3.axisBottom(x))\n      .selectAll('text')\n      .style('text-anchor', 'end')\n      .attr('dx', '-.8em')\n      .attr('dy', '.15em')\n      .attr('transform', 'rotate(-45)');\n\n    g.append('g')\n      .attr('class', 'axis')\n      .call(d3.axisLeft(y));\n\n    // Legend\n    const legend = g.selectAll('.legend')\n      .data(allLeaveTypes)\n      .enter().append('g')\n      .attr('class', 'legend')\n      .attr('transform', (d, i) => `translate(${width + 10}, ${i * 20})`);\n\n    legend.append('rect')\n      .attr('width', 12)\n      .attr('height', 12)\n      .attr('fill', d => color(d));\n\n    legend.append('text')\n      .attr('x', 16)\n      .attr('y', 6)\n      .attr('dy', '0.35em')\n      .style('fill', 'var(--text-primary)')\n      .style('font-size', '11px')\n      .text(d => d);\n  }\n\n  private createOverallTypeChart(): void {\n    if (!this.overallTypeChartRef?.nativeElement || this.overallData.leaveTypes.length === 0) return;\n\n    const element = this.overallTypeChartRef.nativeElement;\n    d3.select(element).selectAll('*').remove();\n\n    const width = element.offsetWidth;\n    const height = 300;\n    const radius = Math.min(width, height) / 2 - 40;\n\n    const svg = d3.select(element)\n      .append('svg')\n      .attr('width', width)\n      .attr('height', height);\n\n    const g = svg.append('g')\n      .attr('transform', `translate(${width / 2},${height / 2})`);\n\n    const color = d3.scaleOrdinal(d3.schemeSet3);\n\n    const pie = d3.pie<any>()\n      .value(d => d.count)\n      .sort(null);\n\n    const arc = d3.arc<any>()\n      .innerRadius(0)\n      .outerRadius(radius);\n\n    const labelArc = d3.arc<any>()\n      .innerRadius(radius * 0.8)\n      .outerRadius(radius * 0.8);\n\n    const tooltip = d3.select('body').append('div')\n      .attr('class', 'tooltip')\n      .style('opacity', 0);\n\n    const arcs = g.selectAll('.arc')\n      .data(pie(this.overallData.leaveTypes))\n      .enter().append('g')\n      .attr('class', 'arc');\n\n    arcs.append('path')\n      .attr('d', arc)\n      .attr('fill', (d, i) => color(i.toString()))\n      .style('stroke', 'var(--bg-secondary)')\n      .style('stroke-width', '2px')\n      .on('mouseover', (event, d) => {\n        tooltip.transition().duration(200).style('opacity', .9);\n        tooltip.html(`\n          <strong>${d.data.type}</strong><br/>\n          Count: ${d.data.count}<br/>\n          Percentage: ${d.data.percentage.toFixed(1)}%\n        `)\n        .style('left', (event.pageX + 10) + 'px')\n        .style('top', (event.pageY - 28) + 'px');\n      })\n      .on('mouseout', () => {\n        tooltip.transition().duration(500).style('opacity', 0);\n      });\n\n    arcs.append('text')\n      .attr('transform', d => `translate(${labelArc.centroid(d)})`)\n      .attr('dy', '.35em')\n      .style('text-anchor', 'middle')\n      .style('fill', 'var(--text-primary)')\n      .style('font-size', '11px')\n      .style('font-weight', 'bold')\n      .text(d => d.data.percentage > 5 ? `${d.data.percentage.toFixed(0)}%` : '');\n  }\n\n  private createOverallStatusChart(): void {\n    if (!this.overallStatusChartRef?.nativeElement || this.overallData.statusDistribution.length === 0) return;\n\n    const element = this.overallStatusChartRef.nativeElement;\n    d3.select(element).selectAll('*').remove();\n\n    const margin = { top: 20, right: 30, bottom: 50, left: 50 };\n    const width = element.offsetWidth - margin.left - margin.right;\n    const height = 300 - margin.top - margin.bottom;\n\n    const svg = d3.select(element)\n      .append('svg')\n      .attr('width', width + margin.left + margin.right)\n      .attr('height', height + margin.top + margin.bottom);\n\n    const g = svg.append('g')\n      .attr('transform', `translate(${margin.left},${margin.top})`);\n\n    const x = d3.scaleBand()\n      .domain(this.overallData.statusDistribution.map(d => d.status))\n      .range([0, width])\n      .padding(0.1);\n\n    const y = d3.scaleLinear()\n      .domain([0, d3.max(this.overallData.statusDistribution, d => d.count) || 0])\n      .nice()\n      .range([height, 0]);\n\n    const color = d3.scaleOrdinal()\n      .domain(['Active', 'Cancelled'])\n      .range(['#38a169', '#e53e3e']);\n\n    const tooltip = d3.select('body').append('div')\n      .attr('class', 'tooltip')\n      .style('opacity', 0);\n\n    g.selectAll('.bar')\n      .data(this.overallData.statusDistribution)\n      .enter().append('rect')\n      .attr('class', 'bar')\n      .attr('x', d => x(d.status)!)\n      .attr('width', x.bandwidth())\n      .attr('y', d => y(d.count))\n      .attr('height', d => height - y(d.count))\n      .attr('fill', d => color(d.status) as string)\n      .on('mouseover', (event, d) => {\n        tooltip.transition().duration(200).style('opacity', .9);\n        tooltip.html(`\n          <strong>${d.status}</strong><br/>\n          Count: ${d.count}<br/>\n          Percentage: ${d.percentage.toFixed(1)}%\n        `)\n        .style('left', (event.pageX + 10) + 'px')\n        .style('top', (event.pageY - 28) + 'px');\n      })\n      .on('mouseout', () => {\n        tooltip.transition().duration(500).style('opacity', 0);\n      });\n\n    // Axes\n    g.append('g')\n      .attr('class', 'axis')\n      .attr('transform', `translate(0,${height})`)\n      .call(d3.axisBottom(x));\n\n    g.append('g')\n      .attr('class', 'axis')\n      .call(d3.axisLeft(y));\n  }\n\n  private createEmployeeComparisonChart(): void {\n    if (!this.employeeComparisonChartRef?.nativeElement || this.employeeData.length === 0) return;\n\n    const element = this.employeeComparisonChartRef.nativeElement;\n    d3.select(element).selectAll('*').remove();\n\n    const margin = { top: 20, right: 30, bottom: 80, left: 50 };\n    const width = element.offsetWidth - margin.left - margin.right;\n    const height = 300 - margin.top - margin.bottom;\n\n    const svg = d3.select(element)\n      .append('svg')\n      .attr('width', width + margin.left + margin.right)\n      .attr('height', height + margin.top + margin.bottom);\n\n    const g = svg.append('g')\n      .attr('transform', `translate(${margin.left},${margin.top})`);\n\n    const x = d3.scaleBand()\n      .domain(this.employeeData.map(d => d.employeeName))\n      .range([0, width])\n      .padding(0.1);\n\n    const y = d3.scaleLinear()\n      .domain([0, d3.max(this.employeeData, d => d.totalLeaves) || 0])\n      .nice()\n      .range([height, 0]);\n\n    const color = d3.scaleOrdinal(d3.schemeCategory10);\n\n    const tooltip = d3.select('body').append('div')\n      .attr('class', 'tooltip')\n      .style('opacity', 0);\n\n    g.selectAll('.bar')\n      .data(this.employeeData)\n      .enter().append('rect')\n      .attr('class', 'bar')\n      .attr('x', d => x(d.employeeName)!)\n      .attr('width', x.bandwidth())\n      .attr('y', d => y(d.totalLeaves))\n      .attr('height', d => height - y(d.totalLeaves))\n      .attr('fill', (d, i) => color(i.toString()))\n      .on('mouseover', (event, d) => {\n        tooltip.transition().duration(200).style('opacity', .9);\n        tooltip.html(`\n          <strong>${d.employeeName}</strong><br/>\n          Total: ${d.totalLeaves}<br/>\n          Active: ${d.activeLeaves}<br/>\n          Cancelled: ${d.cancelledLeaves}<br/>\n          Types: ${Object.keys(d.leaveTypes).length}\n        `)\n        .style('left', (event.pageX + 10) + 'px')\n        .style('top', (event.pageY - 28) + 'px');\n      })\n      .on('mouseout', () => {\n        tooltip.transition().duration(500).style('opacity', 0);\n      })\n      .on('click', (event, d) => {\n        this.selectedEmployee = d.employeeName;\n        this.updateEmployeeAnalysis();\n      });\n\n    // Axes\n    g.append('g')\n      .attr('class', 'axis')\n      .attr('transform', `translate(0,${height})`)\n      .call(d3.axisBottom(x))\n      .selectAll('text')\n      .style('text-anchor', 'end')\n      .attr('dx', '-.8em')\n      .attr('dy', '.15em')\n      .attr('transform', 'rotate(-45)');\n\n    g.append('g')\n      .attr('class', 'axis')\n      .call(d3.axisLeft(y));\n  }\n\n  private createEmployeeDetailChart(): void {\n    if (!this.employeeDetailChartRef?.nativeElement || !this.selectedEmployeeData) return;\n\n    const element = this.employeeDetailChartRef.nativeElement;\n    d3.select(element).selectAll('*').remove();\n\n    const width = element.offsetWidth;\n    const height = 300;\n    const radius = Math.min(width, height) / 2 - 40;\n\n    const svg = d3.select(element)\n      .append('svg')\n      .attr('width', width)\n      .attr('height', height);\n\n    const g = svg.append('g')\n      .attr('transform', `translate(${width / 2},${height / 2})`);\n\n    const leaveTypeData = Object.entries(this.selectedEmployeeData.leaveTypes)\n      .map(([type, count]) => ({ type, count }));\n\n    const color = d3.scaleOrdinal(d3.schemeSet3);\n\n    const pie = d3.pie<any>()\n      .value(d => d.count)\n      .sort(null);\n\n    const arc = d3.arc<any>()\n      .innerRadius(0)\n      .outerRadius(radius);\n\n    const labelArc = d3.arc<any>()\n      .innerRadius(radius * 0.8)\n      .outerRadius(radius * 0.8);\n\n    const tooltip = d3.select('body').append('div')\n      .attr('class', 'tooltip')\n      .style('opacity', 0);\n\n    const arcs = g.selectAll('.arc')\n      .data(pie(leaveTypeData))\n      .enter().append('g')\n      .attr('class', 'arc');\n\n    arcs.append('path')\n      .attr('d', arc)\n      .attr('fill', (d, i) => color(i.toString()))\n      .style('stroke', 'var(--bg-secondary)')\n      .style('stroke-width', '2px')\n      .on('mouseover', (event, d) => {\n        const percentage = (d.data.count / this.selectedEmployeeData!.totalLeaves) * 100;\n        tooltip.transition().duration(200).style('opacity', .9);\n        tooltip.html(`\n          <strong>${d.data.type}</strong><br/>\n          Count: ${d.data.count}<br/>\n          Percentage: ${percentage.toFixed(1)}%\n        `)\n        .style('left', (event.pageX + 10) + 'px')\n        .style('top', (event.pageY - 28) + 'px');\n      })\n      .on('mouseout', () => {\n        tooltip.transition().duration(500).style('opacity', 0);\n      });\n\n    arcs.append('text')\n      .attr('transform', d => `translate(${labelArc.centroid(d)})`)\n      .attr('dy', '.35em')\n      .style('text-anchor', 'middle')\n      .style('fill', 'var(--text-primary)')\n      .style('font-size', '11px')\n      .style('font-weight', 'bold')\n      .text(d => {\n        const percentage = (d.data.count / this.selectedEmployeeData!.totalLeaves) * 100;\n        return percentage > 10 ? `${percentage.toFixed(0)}%` : '';\n      });\n  }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}